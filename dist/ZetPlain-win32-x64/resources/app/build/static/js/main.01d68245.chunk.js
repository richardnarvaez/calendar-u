(this.webpackJsonpzetplain=this.webpackJsonpzetplain||[]).push([[0],{143:function(e,t){},198:function(e,t){["xlsx","xlsb","xlsm","xls","xml","csv","txt","ods","fods","uos","sylk","dif","dbf","prn","qpw","123","wb*","wq*","html","htm"].map((function(e){return"."+e})).join(",")},205:function(e,t,a){e.exports=a(429)},210:function(e,t,a){},216:function(e,t){},217:function(e,t){},297:function(e,t){},299:function(e,t){},330:function(e,t){},331:function(e,t){},429:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(88),s=a.n(l);a(210),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=a(2),i=a(3),c=a(5),m=a(4),d=a(6),u=a(436),p=a(438),f=a(435),h=a(46),E=a(434),g="/home",v="/stadistics",b=function(e){return{wifi:"M12,3C7.79,3 3.7,4.41 0.38,7H0.36C4.24,11.83 8.13,16.66 12,21.5C14.34,18.59 16.67,15.68 19,12.78V9.59L12,18.3L3.27,7.44C5.9,5.85 8.92,5 12,5C15.07,5 18.09,5.86 20.71,7.45L20.27,8H22.84C23.11,7.67 23.37,7.33 23.64,7H23.65C20.32,4.41 16.22,3 12,3M21,10V18H23V10M21,20V22H23V20",home:"M16,13C15.71,13 15.38,13 15.03,13.05C16.19,13.89 17,15 17,16.5V19H23V16.5C23,14.17 18.33,13 16,13M8,13C5.67,13 1,14.17 1,16.5V19H15V16.5C15,14.17 10.33,13 8,13M8,11A3,3 0 0,0 11,8A3,3 0 0,0 8,5A3,3 0 0,0 5,8A3,3 0 0,0 8,11M16,11A3,3 0 0,0 19,8A3,3 0 0,0 16,5A3,3 0 0,0 13,8A3,3 0 0,0 16,11Z",hola:"M16,13C15.71,13 15.38,13 15.03,13.05C16.19,13.89 17,15 17,16.5V19H23V16.5C23,14.17 18.33,13 16,13M8,13C5.67,13 1,14.17 1,16.5V19H15V16.5C15,14.17 10.33,13 8,13M8,11A3,3 0 0,0 11,8A3,3 0 0,0 8,5A3,3 0 0,0 5,8A3,3 0 0,0 8,11M16,11A3,3 0 0,0 19,8A3,3 0 0,0 16,5A3,3 0 0,0 13,8A3,3 0 0,0 16,11Z",user:"M12,4A4,4 0 0,1 16,8A4,4 0 0,1 12,12A4,4 0 0,1 8,8A4,4 0 0,1 12,4M12,14C16.42,14 20,15.79 20,18V20H4V18C4,15.79 7.58,14 12,14Z",empleado:"M12,4A4,4 0 0,1 16,8A4,4 0 0,1 12,12A4,4 0 0,1 8,8A4,4 0 0,1 12,4M12,6A2,2 0 0,0 10,8A2,2 0 0,0 12,10A2,2 0 0,0 14,8A2,2 0 0,0 12,6M12,13C14.67,13 20,14.33 20,17V20H4V17C4,14.33 9.33,13 12,13M12,14.9C9.03,14.9 5.9,16.36 5.9,17V18.1H18.1V17C18.1,16.36 14.97,14.9 12,14.9Z",mensaje:"M22 6C22 4.9 21.1 4 20 4H4C2.9 4 2 4.9 2 6V18C2 19.1 2.9 20 4 20H20C21.1 20 22 19.1 22 18V6M20 6L12 11L4 6H20M20 18H4V8L12 13L20 8V18Z",password:"M7,14A2,2 0 0,1 5,12A2,2 0 0,1 7,10A2,2 0 0,1 9,12A2,2 0 0,1 7,14M12.65,10C11.83,7.67 9.61,6 7,6A6,6 0 0,0 1,12A6,6 0 0,0 7,18C9.61,18 11.83,16.33 12.65,14H17V18H21V14H23V10H12.65Z",sesion:"M12,5.5A3.5,3.5 0 0,1 15.5,9A3.5,3.5 0 0,1 12,12.5A3.5,3.5 0 0,1 8.5,9A3.5,3.5 0 0,1 12,5.5M5,8C5.56,8 6.08,8.15 6.53,8.42C6.38,9.85 6.8,11.27 7.66,12.38C7.16,13.34 6.16,14 5,14A3,3 0 0,1 2,11A3,3 0 0,1 5,8M19,8A3,3 0 0,1 22,11A3,3 0 0,1 19,14C17.84,14 16.84,13.34 16.34,12.38C17.2,11.27 17.62,9.85 17.47,8.42C17.92,8.15 18.44,8 19,8M5.5,18.25C5.5,16.18 8.41,14.5 12,14.5C15.59,14.5 18.5,16.18 18.5,18.25V20H5.5V18.25M0,20V18.5C0,17.11 1.89,15.94 4.45,15.6C3.86,16.28 3.5,17.22 3.5,18.25V20H0M24,20H20.5V18.25C20.5,17.22 20.14,16.28 19.55,15.6C22.11,15.94 24,17.11 24,18.5V20Z",person:"M12,4A4,4 0 0,1 16,8A4,4 0 0,1 12,12A4,4 0 0,1 8,8A4,4 0 0,1 12,4M12,14C16.42,14 20,15.79 20,18V20H4V18C4,15.79 7.58,14 12,14Z",car:"M3,6H16L19,10H21C22.11,10 23,10.89 23,12V15H21A3,3 0 0,1 18,18A3,3 0 0,1 15,15H9A3,3 0 0,1 6,18A3,3 0 0,1 3,15H1V8C1,6.89 1.89,6 3,6M2.5,7.5V10H10.5V7.5H2.5M12,7.5V10H17.14L15.25,7.5H12M6,13.5A1.5,1.5 0 0,0 4.5,15A1.5,1.5 0 0,0 6,16.5A1.5,1.5 0 0,0 7.5,15A1.5,1.5 0 0,0 6,13.5M18,13.5A1.5,1.5 0 0,0 16.5,15A1.5,1.5 0 0,0 18,16.5A1.5,1.5 0 0,0 19.5,15A1.5,1.5 0 0,0 18,13.5Z",pages:"M6,4H11V12L8.5,10.5L6,12M18,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V4A2,2 0 0,0 18,2Z",star:"M12,17.27L18.18,21L16.54,13.97L22,9.24L14.81,8.62L12,2L9.19,8.62L2,9.24L7.45,13.97L5.82,21L12,17.27Z","star-half":"M12,15.4V6.1L13.71,10.13L18.09,10.5L14.77,13.39L15.76,17.67M22,9.24L14.81,8.63L12,2L9.19,8.63L2,9.24L7.45,13.97L5.82,21L12,17.27L18.18,21L16.54,13.97L22,9.24Z",usuarios:"M12,3A4,4 0 0,1 16,7A4,4 0 0,1 12,11A4,4 0 0,1 8,7A4,4 0 0,1 12,3M16,13.54C16,14.6 15.72,17.07 13.81,19.83L13,15L13.94,13.12C13.32,13.05 12.67,13 12,13C11.33,13 10.68,13.05 10.06,13.12L11,15L10.19,19.83C8.28,17.07 8,14.6 8,13.54C5.61,14.24 4,15.5 4,17V21H10L11.09,21H12.91L14,21H20V17C20,15.5 18.4,14.24 16,13.54Z",view:"M12,9A3,3 0 0,1 15,12A3,3 0 0,1 12,15A3,3 0 0,1 9,12A3,3 0 0,1 12,9M12,4.5C17,4.5 21.27,7.61 23,12C21.27,16.39 17,19.5 12,19.5C7,19.5 2.73,16.39 1,12C2.73,7.61 7,4.5 12,4.5M3.18,12C4.83,15.36 8.24,17.5 12,17.5C15.76,17.5 19.17,15.36 20.82,12C19.17,8.64 15.76,6.5 12,6.5C8.24,6.5 4.83,8.64 3.18,12Z","star-empty":"M12,15.39L8.24,17.66L9.23,13.38L5.91,10.5L10.29,10.13L12,6.09L13.71,10.13L18.09,10.5L14.77,13.38L15.76,17.66M22,9.24L14.81,8.63L12,2L9.19,8.63L2,9.24L7.45,13.97L5.82,21L12,17.27L18.18,21L16.54,13.97L22,9.24Z",track:"M20 8H15V14H2V17H3C3 18.7 4.3 20 6 20S9 18.7 9 17H15C15 18.7 16.3 20 18 20S21 18.7 21 17H23V12L20 8M6 18.5C5.2 18.5 4.5 17.8 4.5 17S5.2 15.5 6 15.5 7.5 16.2 7.5 17 6.8 18.5 6 18.5M18 18.5C17.2 18.5 16.5 17.8 16.5 17S17.2 15.5 18 15.5 19.5 16.2 19.5 17 18.8 18.5 18 18.5M17 12V9.5H19.5L21.5 12H17M14 9.5C14 11.4 12.4 13 10.5 13H4.5C2.6 13 1 11.4 1 9.5S2.6 6 4.5 6H5V5H4V4H8V5H7V6H10.5C12.4 6 14 7.6 14 9.5Z","account-edit":"M21.7,13.35L20.7,14.35L18.65,12.3L19.65,11.3C19.86,11.09 20.21,11.09 20.42,11.3L21.7,12.58C21.91,12.79 21.91,13.14 21.7,13.35M12,18.94L18.06,12.88L20.11,14.93L14.06,21H12V18.94M12,14C7.58,14 4,15.79 4,18V20H10V18.11L14,14.11C13.34,14.03 12.67,14 12,14M12,4A4,4 0 0,0 8,8A4,4 0 0,0 12,12A4,4 0 0,0 16,8A4,4 0 0,0 12,4Z","account-delete":"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z",pencil:"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z",magnify:"M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z",back:"M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z",close:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",check:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2,4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z","check-simple":"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z",trash:"M20.37,8.91L19.37,10.64L7.24,3.64L8.24,1.91L11.28,3.66L12.64,3.29L16.97,5.79L17.34,7.16L20.37,8.91M6,19V7H11.07L18,11V19A2,2 0 0,1 16,21H8A2,2 0 0,1 6,19Z",process:"M18,19C16.89,19 16,18.1 16,17C16,15.89 16.89,15 18,15A2,2 0 0,1 20,17A2,2 0 0,1 18,19M18,13A4,4 0 0,0 14,17A4,4 0 0,0 18,21A4,4 0 0,0 22,17A4,4 0 0,0 18,13M12,11.1A1.9,1.9 0 0,0 10.1,13A1.9,1.9 0 0,0 12,14.9A1.9,1.9 0 0,0 13.9,13A1.9,1.9 0 0,0 12,11.1M6,19C4.89,19 4,18.1 4,17C4,15.89 4.89,15 6,15A2,2 0 0,1 8,17A2,2 0 0,1 6,19M6,13A4,4 0 0,0 2,17A4,4 0 0,0 6,21A4,4 0 0,0 10,17A4,4 0 0,0 6,13M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8C10.89,8 10,7.1 10,6C10,4.89 10.89,4 12,4M12,10A4,4 0 0,0 16,6A4,4 0 0,0 12,2A4,4 0 0,0 8,6A4,4 0 0,0 12,10Z"}[e]},y=function(e){var t=e.name,a=void 0===t?"home":t,n=e.style,l=void 0===n?{}:n,s=e.fill,o=void 0===s?"#000":s,i=e.viewBox,c=void 0===i?"0 0 24 24":i,m=e.className,d=void 0===m?"":m,u=e.width,p=void 0===u?"24px":u,f=e.height,h=void 0===f?"24px":f;return r.a.createElement("svg",{width:p,style:l,height:h,className:d,xmlns:"http://www.w3.org/2000/svg",viewBox:c,xmlnsXlink:"http://www.w3.org/1999/xlink"},r.a.createElement("path",{fill:o,d:b(a)}))},N=(a(211),a(56)),w=a.n(N),x=function(e){for(var t=[],a=w.a.utils.decode_range(e).e.c+1,n=0;n<a;++n)t[n]={name:w.a.utils.encode_col(n),key:n};return t},C=a(198),k=a(23),j=(a(219),a(223),a(224),a(225),r.a.createContext(null)),O=function(e){return function(t){return r.a.createElement(j.Consumer,null,(function(a){return r.a.createElement(e,Object.assign({},t,{firebase:a}))}))}},S=j,A=a(8),L=a.n(A),M=a(15),I=a(38),U=a.n(I),D=(a(287),a(289),{apiKey:"AIzaSyBKPHC9DK08j2yp6ASY51rwOPkwS8_0RQU",authDomain:"unicalend.firebaseapp.com",databaseURL:"https://unicalend.firebaseio.com",projectId:"unicalend",storageBucket:"unicalend.appspot.com",messagingSenderId:"980645346554",appId:"1:980645346554:web:b9d8804abcd2b09f7b9d43",measurementId:"G-P2DFZ086XE"}),R=function(){function e(){var t=this;Object(o.a)(this,e),this.doCreateUserWithEmailAndPassword=function(e,a){return t.auth.createUserWithEmailAndPassword(e,a)},this.doSignInWithEmailAndPassword=function(e,a){return t.auth.signInWithEmailAndPassword(e,a)},this.doSignInWithGoogle=function(){return t.auth.signInWithPopup(t.googleProvider)},this.doSignInWithFacebook=function(){return t.auth.signInWithPopup(t.facebookProvider)},this.doSignInWithTwitter=function(){return t.auth.signInWithPopup(t.twitterProvider)},this.doSignOut=function(){t.auth.signOut()},this.doPasswordReset=function(e){return t.auth.sendPasswordResetEmail(e)},this.doSendEmailVerification=function(){return t.auth.currentUser.sendEmailVerification({url:Object({NODE_ENV:"production",PUBLIC_URL:"."}).REACT_APP_CONFIRMATION_EMAIL_REDIRECT})},this.doPasswordUpdate=function(e){return t.auth.currentUser.updatePassword(e)},this.onAuthUserListener=function(e,a){return t.auth.onAuthStateChanged((function(n){n?t.user(n.uid).once("value").then((function(a){if(console.log("SNAP:",a.exists()),a.exists()){var r=a.val();r.roles||(r.roles={}),n=Object(M.a)({uid:n.uid,email:n.email,emailVerified:n.emailVerified,providerData:n.providerData},r)}else t.doSignOut();e(n)})):a()}))},this.user=function(e){return t.db.ref("users/".concat(e))},this.users=function(){return t.db.ref("users")},this.admin=function(e){return t.db.ref("admins/".concat(e))},this.admins=function(){return t.db.ref("admins")},this.message=function(e){return t.db.ref("messages/".concat(e))},this.messages=function(){return t.db.ref("messages")},this.setCredit=function(e){t.db.ref(e).update({aCredit:!0,aEfectivo:!0,aExpress:!1,aNormal:!0,aProgram:!1,isSent:!1})},this.setQuitarCredit=function(e){t.db.ref(e).update({aCredit:!1,aEfectivo:!0,aExpress:!1,aNormal:!0,aProgram:!1,isSent:!1})},this.setWorker=function(e,a){var n=t.db.ref(e).push();a.id=n.key,t.db.ref(n).set(a)},this.setFlota=function(e,a){t.db.ref(e+a.placa).set(a)},U.a.initializeApp(D),this.serverValue=U.a.database.ServerValue,this.emailAuthProvider=U.a.auth.EmailAuthProvider,this.auth=U.a.auth(),this.a=U.a.auth,this.db=U.a.database(),this.googleProvider=new U.a.auth.GoogleAuthProvider,this.facebookProvider=new U.a.auth.FacebookAuthProvider,this.twitterProvider=new U.a.auth.TwitterAuthProvider}return Object(i.a)(e,[{key:"getLive",value:function(e,t,a){return L.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,L.a.awrap(this.db.ref(e).on("value",t,a));case 2:case"end":return n.stop()}}),null,this)}},{key:"get",value:function(e,t,a){return L.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,L.a.awrap(this.db.ref(e).once("value",t,a));case 2:case"end":return n.stop()}}),null,this)}},{key:"addWorker",value:function(e,t,a){var n,r,l;return L.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return n="/worker/"+t,r={idFlota:a},s.next=4,L.a.awrap(this.db.ref(n).update(r));case 4:return l={id:t},s.next=7,L.a.awrap(this.db.ref(e+"/workers/"+t).update(l));case 7:case"end":return s.stop()}}),null,this)}},{key:"delete",value:function(e){return L.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L.a.awrap(this.db.ref(e).remove());case 2:case"end":return t.stop()}}),null,this)}},{key:"deleteFlota",value:function(e,t){var a,n;return L.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:a=0;case 1:if(!(a<t.length)){r.next=8;break}return n="/worker/"+t[a].id+"/idFlota",r.next=5,L.a.awrap(this.db.ref(n).remove());case 5:a++,r.next=1;break;case 8:return r.next=10,L.a.awrap(this.db.ref(e).remove());case 10:case"end":return r.stop()}}),null,this)}},{key:"deleteWorker",value:function(e,t){return L.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,L.a.awrap(this.db.ref(e).remove());case 2:return a.next=4,L.a.awrap(this.db.ref(t).remove());case 4:case"end":return a.stop()}}),null,this)}},{key:"getfilter",value:function(e,t,a,n){return L.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if("Todos"!==t){r.next=5;break}return r.next=3,L.a.awrap(this.db.ref(e).on("value",a,n));case 3:r.next=7;break;case 5:return r.next=7,L.a.awrap(this.db.ref(e).orderByChild("type").equalTo(t).on("value",a,n));case 7:case"end":return r.stop()}}),null,this)}},{key:"modify",value:function(e,t){return L.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,L.a.awrap(this.db.ref(e).update(t));case 2:case"end":return a.stop()}}),null,this)}},{key:"search",value:function(e,t,a,n,r){return L.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:if("Todos"!==t){l.next=5;break}return l.next=3,L.a.awrap(this.db.ref(e).once("value",n,r));case 3:l.next=7;break;case 5:return l.next=7,L.a.awrap(this.db.ref(e).orderByChild(t).equalTo(a).once("value",n,r));case 7:case"end":return l.stop()}}),null,this)}},{key:"filterDate",value:function(e,t,a,n){return L.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,L.a.awrap(this.db.ref(e).orderByChild("flota").equalTo(t).once("value",a,n));case 2:case"end":return r.stop()}}),null,this)}}]),e}(),T=r.a.createContext(null),F=function(e){var t=function(t){function a(e){var t;return Object(o.a)(this,a),(t=Object(c.a)(this,Object(m.a)(a).call(this,e))).state={authUser:JSON.parse(localStorage.getItem("authUser"))},t}return Object(d.a)(a,t),Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.listener=this.props.firebase.onAuthUserListener((function(t){localStorage.setItem("authUser",JSON.stringify(t)),e.setState({authUser:t})}),(function(){localStorage.removeItem("authUser"),e.setState({authUser:null})}))}},{key:"componentWillUnmount",value:function(){this.listener()}},{key:"render",value:function(){return r.a.createElement(T.Provider,{value:this.state.authUser},r.a.createElement(e,this.props))}}]),a}(r.a.Component);return O(t)},V=a(437),P=function(e){return function(t){var a=function(a){function n(){return Object(o.a)(this,n),Object(c.a)(this,Object(m.a)(n).apply(this,arguments))}return Object(d.a)(n,a),Object(i.a)(n,[{key:"componentDidMount",value:function(){var t=this;this.listener=this.props.firebase.onAuthUserListener((function(a){e(a)||t.props.history.push("/signin")}),(function(){return t.props.history.push("/signin")}))}},{key:"componentWillUnmount",value:function(){this.listener()}},{key:"render",value:function(){var a=this;return r.a.createElement(T.Consumer,null,(function(n){return e(n)?r.a.createElement(t,a.props):null}))}}]),n}(r.a.Component);return Object(k.a)(V.a,O)(a)}},B=function(e){var t=function(t){function a(e){var t;return Object(o.a)(this,a),(t=Object(c.a)(this,Object(m.a)(a).call(this,e))).onSendEmailVerification=function(){t.props.firebase.doSendEmailVerification().then((function(){return t.setState({isSent:!0})}))},t.state={isSent:!1},t}return Object(d.a)(a,t),Object(i.a)(a,[{key:"render",value:function(){var t=this;return r.a.createElement(T.Consumer,null,(function(a){return function(e){return!e}(a)?r.a.createElement("div",null,t.state.isSent?r.a.createElement("p",null,"E-Mail confirmation sent: Check your E-Mails (Spam folder included) for a confirmation E-Mail. Refresh this page once you confirmed your E-Mail."):r.a.createElement("p",null,"Verify your E-Mail: Check your E-Mails (Spam folder included) for a confirmation E-Mail or send another confirmation E-Mail."),r.a.createElement("button",{type:"button",onClick:t.onSendEmailVerification,disabled:t.state.isSent},"Send confirmation E-Mail")):r.a.createElement(e,t.props)}))}}]),a}(r.a.Component);return O(t)},H=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).toggleClick=function(){a.setState((function(e){return{generar:!e.generar}}))},a.generar=function(){var e=Array.prototype.map.call(document.querySelectorAll("#horario tr"),(function(e){if(e.querySelectorAll("th input").length>0)return Array.prototype.map.call(e.querySelectorAll("th input"),(function(e){return e.value}))}));e.shift(),console.log("HORARIO:",e);try{var t=a.props.firebase.auth.currentUser.uid;0!=e.length?null!=t?(a.props.firebase.user(t).update({horario:e}),a.props.history.push(g)):alert("Parece que no tienes una USUARIO, por lo que no puedes generar un horario. Tienes la opcion de IMPRIMIR sin registrarte"):alert("No hay datos, Importa un horario")}catch(n){alert("Parece que no tienes una USUARIO, por lo que no puedes generar un horario. Tienes la opcion de IMPRIMIR sin registrarte")}},a.state={generar:!1,file:{},data:[],cols:[]},a.handleFile=a.handleFile.bind(Object(h.a)(a)),a.handleChange=a.handleChange.bind(Object(h.a)(a)),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){}},{key:"handleChange",value:function(e){var t=e.target.files;t&&t[0]&&this.setState({file:t[0]})}},{key:"componentDidUpdate",value:function(e,t){var a=this;console.log("FILE: ",this.state.file.size),console.log("DATA: ",this.state.data.length),console.log("PREVDATA: ",t.data.length),console.log("DATA: ",this.state.data),0==t.data.length&&this.state.data.length>0&&function(){for(var e=[],t=[],n=0;n<=6;n++)t.push([null,null,null,null,null,null,null,null]);for(var r=function(n){var r=a.state.data[n].__EMPTY_1.split(":")[0],l=[null,null,null,null,null,null,null,null];switch(Object.keys(a.state.data[n]).forEach((function(t){var r=a.state.data[n][t];switch(t){case"__EMPTY_1":l[0]=r;break;case"__EMPTY_4":l[1]=r;break;case"__EMPTY_8":l[2]=r;break;case"__EMPTY_9":l[3]=r;break;case"__EMPTY_11":l[4]=r;break;case"__EMPTY_12":l[5]=r;break;case"__EMPTY_13":l[6]=r;break;case"__EMPTY_14":l[7]=r}console.log("ROW: ",l),console.log("".concat(t.replace("__EMPTY_",""),": ").concat(r.replace(/\n\n/g," | "))),-1===e.indexOf(r.split(/\n\n/g)[0])&&(r.match(/^\d/)||e.push(r.split(/\n\n/g)[0]))})),r){case"7":t[0]=l;break;case"9":t[1]=l;break;case"11":t[2]=l;break;case"13":t[3]=l;break;case"15":t[4]=l;break;case"19":t[5]=l;break;case"21":t[6]=l}},l=7;l<=a.state.data.length-1;l++)r(l);console.log(">>>>>>>",t),a.setState({allMaterias:e,allMatRows:t})}(),void 0!=this.state.file.size&&0==this.state.data.length&&this.handleFile()}},{key:"handleFile",value:function(){var e=this,t=new FileReader,a=!!t.readAsBinaryString;t.onload=function(t){var n=t.target.result,r=w.a.read(n,{type:a?"binary":"array",bookVBA:!0}),l=r.SheetNames[0],s=r.Sheets[l],o=w.a.utils.sheet_to_json(s);e.setState({data:o,cols:x(s["!ref"])},(function(){console.log(JSON.stringify(e.state.data,null,2))}))},a?t.readAsBinaryString(this.state.file):t.readAsArrayBuffer(this.state.file)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.state.generar?r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{className:"no-print",style:{position:"fixed",background:"#fff",padding:8,top:32,left:32,borderRadius:1e4,textAlign:"center",display:"flex",alignItems:"center",cursor:"pointer",justifyContent:"center",height:38,width:58,boxShadow:"0 2px 5px #00000045"},onClick:this.toggleClick},r.a.createElement(y,{className:"no-print",name:"back"})),r.a.createElement("div",{className:"container",style:{paddingTop:150}},r.a.createElement("div",{className:"mb-5 no-print",style:{textAlign:"center"}},r.a.createElement("img",{style:{width:200},src:"https://i.pinimg.com/originals/77/75/5e/77755e565ef7ddbff2546231cd8732bf.png"}),r.a.createElement("h1",null,"Generador de horarios"),r.a.createElement("p",null,"Crea tu horario de clases en pocos segundos.")),r.a.createElement("div",{className:"no-print"},r.a.createElement("div",null,r.a.createElement("p",{style:{fontWeight:"bold"}},"IMPORTAR"),r.a.createElement("p",{className:"mb-3"},"Selecciona el archivo EXCEL de tu horario")),r.a.createElement("label",{className:"btn btn-primary"},r.a.createElement("i",{className:"fa fa-image"})," Importar EXCEL",r.a.createElement("input",{type:"file",style:{display:"none"},accept:C.SheetJSFT,onChange:this.handleChange})),r.a.createElement("div",null,r.a.createElement("p",{className:"mt-4",style:{fontWeight:"bold"}},"HORARIO"),r.a.createElement("p",{className:"mb-3"},"Edita tu horario a tu gusto"))),r.a.createElement("div",null),r.a.createElement("table",{id:"horario",class:"table",style:{borderRadius:16,background:"#fafafa",boxShadow:"0 2px 5px #00000015",overflow:"hidden"}},r.a.createElement("thead",{className:"thead-dark"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Hora"),r.a.createElement("th",{scope:"col"},"Lunes"),r.a.createElement("th",{scope:"col"},"Martes"),r.a.createElement("th",{scope:"col"},"Miercoles"),r.a.createElement("th",{scope:"col"},"Jueves"),r.a.createElement("th",{scope:"col"},"Viernes"),r.a.createElement("th",{scope:"col"},"Sabado"),r.a.createElement("th",{scope:"col"},"Domingo"))),r.a.createElement("tbody",null,this.state.allMatRows&&this.state.allMatRows.map((function(e,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",null,e.map((function(e,t){if(e){var a=e&&e.split(/\n\n/g);return r.a.createElement("th",{scope:"col"},r.a.createElement("input",{type:"text",class:"form-control",placeholder:"Username","aria-label":"Username","aria-describedby":"addon-wrapping",value:a[0]}),r.a.createElement("p",{style:{fontWeight:"bold",fontSize:8}},a[1]))}return r.a.createElement("th",null,r.a.createElement("input",{type:"text",class:"form-control",placeholder:"Libre","aria-label":"Username","aria-describedby":"addon-wrapping"}))}))))})))),r.a.createElement("div",{id:"calendar"}),r.a.createElement("div",{className:"no-print",style:{marginBottom:150,textAlign:"center"}},r.a.createElement("button",{className:"bt btn-primary",style:{borderRadius:1e3,marginRight:8,padding:"8px 38px",boxShadow:"0 2px 5px #00000030",fontWeight:"bold"},onClick:this.generar},"Generar"),r.a.createElement("button",{style:{borderRadius:1e3,marginLeft:8,background:"#000",color:"#fafafa",padding:"8px 38px",boxShadow:"0 2px 5px #00000030",fontWeight:"bold"},onClick:function(){return window.print()}},"Imprimir")))):r.a.createElement(_,{ctx:this}))}}]),t}(r.a.Component),_=function(e){var t=e.ctx;return r.a.createElement(r.a.Fragment,null,r.a.createElement(T.Consumer,null,(function(e){return r.a.createElement("div",{style:{display:"flex",height:"100vh",alignItems:"center",justifyContent:"center"}},r.a.createElement("div",{className:"row",style:{textAlign:"center"}},r.a.createElement("div",{className:"col-12 mb-4 no-print",style:{textAlign:"center"}},r.a.createElement("h1",null,"ZETPLAIN"),r.a.createElement("p",null,"Esto es una descripcion")),r.a.createElement("div",{className:"col-6"},r.a.createElement("a",{onClick:t.toggleClick,className:"card",style:{width:"18rem",marginLeft:"auto",cursor:"pointer"}},r.a.createElement("img",{style:{height:200,objectFit:"cover"},className:"card-img-top",src:"https://www.milenio.com/uploads/media/2019/04/02/el-domingo-de-abril-sera.jpg",alt:"Card image cap"}),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},"Crear Horario"),r.a.createElement("p",{className:"card-text"},"Selecciona tus materias y crea un horario en minutos.")))),r.a.createElement("div",{className:"col-6",style:{display:"flex",alignItems:"center"}},null!=e?r.a.createElement(E.a,{to:g,style:{height:"100%"}},r.a.createElement("div",{className:"card",style:{width:"18rem",height:"100%"}},r.a.createElement(E.a,{to:"/signout",className:"no-print","data-toggle":"tooltip","data-placement":"top",title:"Cerrar sesi\xf3n",style:{position:"absolute",background:"#fff",padding:8,top:8,right:8,borderRadius:1e4,textAlign:"center",display:"flex",alignItems:"center",cursor:"pointer",justifyContent:"center",height:38,width:38,boxShadow:"0 2px 5px #00000045"}},r.a.createElement(y,{name:"close"})),r.a.createElement("img",{style:{height:100,margin:"auto",width:100,marginTop:"3.25rem",borderRadius:16,objectFit:"cover"},src:"https://www.searchpng.com/wp-content/uploads/2019/02/Men-Profile-Image-715x657.png",alt:"Card image cap"}),r.a.createElement("div",{className:"card-body",style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}},r.a.createElement("h5",{className:"card-title"},"Bienvenido: ",e.username," "),r.a.createElement("span",null,"Entrar a mi cuenta")))):r.a.createElement(E.a,{className:"card",style:{width:"18rem"},to:"/signin"},r.a.createElement("img",{style:{height:200,objectFit:"cover"},className:"card-img-top",src:"https://guiauniversitaria.mx/wp-content/uploads/2019/05/dia-del-estudiante-1068x623.jpg",alt:"Card image cap"}),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},"Iniciar sesion"),r.a.createElement("p",{className:"card-text"},"Guarda tu horario y manten tu lista de tareas al dia.")))),r.a.createElement("p",{className:"col-12",style:{fontSize:12,marginTop:64}},"2020 | Zetplain")))})))},W=O(H),z=a(26),Z="ADMIN",q="USER",G={username:"",email:"",passwordOne:"",passwordTwo:"",isAdmin:!1,error:null},Y="auth/email-already-in-use",J="\n  An account with this E-Mail address already exists.\n  Try to login with this account instead. If you think the\n  account is already used from one of the social logins, try\n  to sign in with one of them. Afterward, associate your accounts\n  on your personal account page.\n",$=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).onSubmit=function(e){var t=a.state,n=t.username,r=t.email,l=t.passwordOne,s=t.isAdmin,o={};s?o[Z]=Z:o[q]=q,a.props.firebase.doCreateUserWithEmailAndPassword(r,l).then((function(e){return a.props.firebase.user(e.user.uid).set({username:n,email:r,roles:o})})).then((function(){return a.props.firebase.doSendEmailVerification()})).then((function(){a.setState(Object(M.a)({},G)),a.props.history.push(g)})).catch((function(e){e.code===Y&&(e.message=J),a.setState({error:e})})),e.preventDefault()},a.onChange=function(e){a.setState(Object(z.a)({},e.target.name,e.target.value))},a.onChangeCheckbox=function(e){a.setState(Object(z.a)({},e.target.name,e.target.checked))},a.state=Object(M.a)({},G),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.email,n=e.passwordOne,l=e.passwordTwo,s=(e.isAdmin,e.error),o=n!==l||""===n||""===a||""===t;return r.a.createElement("form",{className:"form-signin",onSubmit:this.onSubmit},r.a.createElement("h1",{style:{textAlign:"center",marginBottom:32}},"Registrar Usuario"),r.a.createElement("input",{className:"form-control",name:"username",value:t,onChange:this.onChange,type:"text",placeholder:"Nombre de USUARIO"}),r.a.createElement("input",{className:"form-control mt-3",name:"email",value:a,onChange:this.onChange,type:"text",placeholder:"Email"}),r.a.createElement("input",{className:"form-control  mt-3",name:"passwordOne",value:n,onChange:this.onChange,type:"password",placeholder:"Password"}),r.a.createElement("input",{className:"form-control  mt-3",name:"passwordTwo",value:l,onChange:this.onChange,type:"password",placeholder:"Confirmar Password"}),r.a.createElement("button",{className:"bt  btn-primary mt-3 btn-block",disabled:o,type:"submit"},"Registrar"),s&&r.a.createElement("p",null,s.message))}}]),t}(n.Component),K=Object(k.a)(V.a,O)($),X=function(){return r.a.createElement("div",null,r.a.createElement(E.a,{to:"/signin",className:"no-print",style:{position:"fixed",background:"#fff",padding:8,top:32,left:32,borderRadius:1e4,textAlign:"center",display:"flex",alignItems:"center",cursor:"pointer",justifyContent:"center",height:38,width:58,boxShadow:"0 2px 5px #00000045"}},r.a.createElement(y,{className:"no-print",name:"back"})),r.a.createElement(K,null))},Q={email:"",error:null},ee=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).onSubmit=function(e){var t=a.state.email;a.props.firebase.doPasswordReset(t).then((function(){a.setState(Object(M.a)({},Q)),alert("Se ha enviado a un enlace a su correo electronico")})).catch((function(e){a.setState({error:e})})),e.preventDefault()},a.onChange=function(e){a.setState(Object(z.a)({},e.target.name,e.target.value))},a.state=Object(M.a)({},Q),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.error,n=""===t;return r.a.createElement("form",{className:"formNew",style:{marginTop:"16px"},onSubmit:this.onSubmit},r.a.createElement("input",{className:"form-control",id:"inputCount",name:"email",value:this.state.email,onChange:this.onChange,type:"text",placeholder:"Correo Electr\xf3nico"}),r.a.createElement("button",{className:"btn btn-lg btn-primary btn-block",id:"butonChange",disabled:n,type:"submit"},"Recuperar  contra\xf1se\xf1a"),a&&r.a.createElement("p",null,a.message))}}]),t}(n.Component),te=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"PasswordForget"),r.a.createElement(ae,null))},ae=O(ee),ne={email:"",password:"",error:null},re="auth/account-exists-with-different-credential",le="\n  An account with an E-Mail address to\n  this social account already exists. Try to login from\n  this account instead and associate your social accounts on\n  your personal account page.\n",se=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).onSubmit=function(e){var t=a.state,n=t.email,r=t.password;a.props.firebase.doSignInWithEmailAndPassword(n,r).then((function(e){console.log("DAtos de inicio:",e),a.setState(Object(M.a)({},ne)),a.props.history.push(v)})).catch((function(e){alert("Credenciales incorrectas")})),e.preventDefault()},a.onChange=function(e){a.setState(Object(z.a)({},e.target.name,e.target.value))},a.state=Object(M.a)({},ne),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.password,n=e.error,l=""===a||""===t;return r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{to:g,className:"no-print",style:{position:"fixed",background:"#fff",padding:8,top:32,left:32,borderRadius:1e4,textAlign:"center",display:"flex",alignItems:"center",cursor:"pointer",justifyContent:"center",height:38,width:58,boxShadow:"0 2px 5px #00000045"}},r.a.createElement(y,{className:"no-print",name:"back"})),r.a.createElement("div",{className:"text-center"},r.a.createElement("form",{className:"form-signin",onSubmit:this.onSubmit},r.a.createElement("h1",{className:"h3 mb-3 font-weight-normal"},r.a.createElement("strong",null," Iniciar Sesi\xf3n")),r.a.createElement("div",{id:"format"},r.a.createElement("input",{className:"form-control",name:"email",value:t,onChange:this.onChange,type:"email",placeholder:"Correo Electr\xf3nico"}),r.a.createElement("input",{className:"form-control mt-2",name:"password",value:a,onChange:this.onChange,type:"password",placeholder:"Contrase\xf1a"})),r.a.createElement("button",{className:"btn  mt-4 btn-lg btn-primary btn-block",id:"buton",disabled:l,type:"submit"},"Inciar Sesi\xf3n"),r.a.createElement(E.a,{className:"btn btn-lg btn-succes",to:"/signup"},"Registrarme"),n&&r.a.createElement("p",null,n.message)),r.a.createElement("p",{className:"mt-5 mb-3 text-muted"},"\xa9 Zetplain"))," ")}}]),t}(n.Component),oe=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).onSubmit=function(e){a.props.firebase.doSignInWithGoogle().then((function(e){return a.props.firebase.admin(e.user.uid).set({username:e.user.displayName,email:e.user.email,roles:{}})})).then((function(){a.setState({error:null}),a.props.history.push(g)})).catch((function(e){e.code===re&&(e.message=le),a.setState({error:e})})),e.preventDefault()},a.state={error:null},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.error;return r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("button",{type:"submit"},"Sign In with Google"),e&&r.a.createElement("p",null,e.message))}}]),t}(n.Component),ie=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).onSubmit=function(e){a.props.firebase.doSignInWithFacebook().then((function(e){return a.props.firebase.admin(e.user.uid).set({username:e.additionalUserInfo.profile.name,email:e.additionalUserInfo.profile.email,roles:{}})})).then((function(){a.setState({error:null}),a.props.history.push(g)})).catch((function(e){e.code===re&&(e.message=le),a.setState({error:e})})),e.preventDefault()},a.state={error:null},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.error;return r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("button",{type:"submit"},"Sign In with Facebook"),e&&r.a.createElement("p",null,e.message))}}]),t}(n.Component),ce=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).onSubmit=function(e){a.props.firebase.doSignInWithTwitter().then((function(e){return a.props.firebase.admin(e.user.uid).set({username:e.additionalUserInfo.profile.name,email:e.additionalUserInfo.profile.email,roles:{}})})).then((function(){a.setState({error:null}),a.props.history.push(g)})).catch((function(e){e.code===re&&(e.message=le),a.setState({error:e})})),e.preventDefault()},a.state={error:null},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.error;return r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("button",{type:"submit"}),e&&r.a.createElement("p",null,e.message))}}]),t}(n.Component),me=Object(k.a)(V.a,O)(se),de=(Object(k.a)(V.a,O)(oe),Object(k.a)(V.a,O)(ie),Object(k.a)(V.a,O)(ce),function(){return r.a.createElement("div",null,r.a.createElement(me,null))}),ue=(a(295),Object(V.a)(O((function(e){var t=e.firebase,a=e.history;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh"}},r.a.createElement("div",{className:"card",style:{padding:32}},r.a.createElement("h1",null,"Estas seguro de que deseas salir?"),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(E.a,{to:"/"},"Cancelar"),r.a.createElement("a",{className:"button2",style:{marginLeft:16,cursor:"pointer",color:"#2385E8",borderColor:"white"},onClick:function(){t.doSignOut(),a.push("/signin")}},"Cerrar Sesi\xf3n")))))})))),pe=a(204),fe=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).onToggleEditMode=function(){a.setState((function(e){return{editMode:!e.editMode,editText:a.props.message.text}}))},a.onChangeEditText=function(e){a.setState({editText:e.target.value})},a.onSaveEditText=function(){a.props.onEditMessage(a.props.message,a.state.editText),a.setState({editMode:!1})},a.state={editMode:!1,editText:a.props.message.text},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.authUser,a=e.message,n=e.onRemoveMessage,l=this.state,s=l.editMode,o=l.editText;return r.a.createElement("li",null,s?r.a.createElement("input",{type:"text",value:o,onChange:this.onChangeEditText}):r.a.createElement("span",null,r.a.createElement("strong",null,a.userId)," ",a.text,a.editedAt&&r.a.createElement("span",null,"(Edited)")),t.uid===a.userId&&r.a.createElement("span",null,s?r.a.createElement("span",null,r.a.createElement("button",{onClick:this.onSaveEditText},"Save"),r.a.createElement("button",{onClick:this.onToggleEditMode},"Reset")):r.a.createElement("button",{onClick:this.onToggleEditMode},"Edit"),!s&&r.a.createElement("button",{type:"button",onClick:function(){return n(a.uid)}},"Delete")))}}]),t}(n.Component),he=function(e){var t=e.authUser,a=e.messages,n=e.onEditMessage,l=e.onRemoveMessage;return r.a.createElement("ul",null,a.map((function(e){return r.a.createElement(fe,{authUser:t,key:e.uid,message:e,onEditMessage:n,onRemoveMessage:l})})))},Ee=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).onListenForMessages=function(){a.setState({loading:!0}),a.props.firebase.messages().orderByChild("createdAt").limitToLast(a.state.limit).on("value",(function(e){var t=e.val();if(t){var n=Object.keys(t).map((function(e){return Object(M.a)({},t[e],{uid:e})}));a.setState({messages:n,loading:!1})}else a.setState({messages:null,loading:!1})}))},a.onChangeText=function(e){a.setState({text:e.target.value})},a.onCreateMessage=function(e,t){a.props.firebase.messages().push({text:a.state.text,userId:t.uid,createdAt:a.props.firebase.serverValue.TIMESTAMP}),a.setState({text:""}),e.preventDefault()},a.onEditMessage=function(e,t){e.uid;var n=Object(pe.a)(e,["uid"]);a.props.firebase.message(e.uid).set(Object(M.a)({},n,{text:t,editedAt:a.props.firebase.serverValue.TIMESTAMP}))},a.onRemoveMessage=function(e){a.props.firebase.message(e).remove()},a.onNextPage=function(){a.setState((function(e){return{limit:e.limit+5}}),a.onListenForMessages)},a.state={text:"",loading:!1,messages:[],limit:5},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.onListenForMessages()}},{key:"componentWillUnmount",value:function(){this.props.firebase.messages().off()}},{key:"render",value:function(){var e=this,t=this.state,a=t.text,n=t.messages,l=t.loading;return r.a.createElement(T.Consumer,null,(function(t){return r.a.createElement("div",null,!l&&n&&r.a.createElement("button",{type:"button",onClick:e.onNextPage},"More"),l&&r.a.createElement("div",null,"Loading ..."),n&&r.a.createElement(he,{authUser:t,messages:n,onEditMessage:e.onEditMessage,onRemoveMessage:e.onRemoveMessage}),!n&&r.a.createElement("div",null,"There are no messages ..."),r.a.createElement("form",{onSubmit:function(a){return e.onCreateMessage(a,t)}},r.a.createElement("input",{type:"text",value:a,onChange:e.onChangeText}),r.a.createElement("button",{type:"submit"},"Send")))}))}}]),t}(n.Component),ge=(O(Ee),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={checked:!1},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.text,n=e.index,l=e.removeTodo,s=e.checkTodo,o=e.checked;return r.a.createElement("div",null,r.a.createElement("div",{className:"d-flex justify-content-between",style:{borderBottom:"solid #e8e8e8 1px",padding:8,alignItems:"center"}},r.a.createElement("div",{className:"row"},r.a.createElement(y,{name:"".concat(o?"check":"process"),fill:"".concat(o?"#28a745":"#000")}),r.a.createElement("div",{style:{marginLeft:16}},r.a.createElement("p",{style:{fontWeight:"bold",color:"".concat(o?"#28a745":"#000")},onClick:function(){return s(a,o,n)}},t),r.a.createElement("p",null,a||""))),r.a.createElement("div",null,r.a.createElement("button",{style:{borderRadius:1e3,background:"".concat(o?"#28a745":"#ccc"),height:35,width:68,border:"none"},key:"button-".concat(n),onClick:function(){return s(a,o,n)}},r.a.createElement(y,{name:"check-simple",fill:"#fff"})),r.a.createElement("button",{style:{marginLeft:8,borderRadius:1e3,background:"#dc3545",height:35,width:68,border:"none"},key:"button-".concat(n),onClick:function(){return l(n)}},r.a.createElement(y,{name:"trash",fill:"#fff"})))))}}]),t}(n.Component)),ve=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).state={counter:10,user:"",todos:[],inputValue:"",loading:!0,edit:!1},e.subtractCounter=e.subtractCounter.bind(Object(h.a)(e)),e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.firebase.auth.onAuthStateChanged((function(t){e.rootRef=e.props.firebase.db.ref(),console.log("FIREBASE: ",t),e.setState({user:t});var a=t.uid;e.todosRef=e.rootRef.child("users/"+a+"/todos"),e.todosUserRef=e.rootRef.child("users/"+a),e.rootRef.on("value",(function(t){e.setState({counter:t.child("counter").val()}),e.setState({todos:t.child("users/"+a+"/todos").val()||[]})})),e.rootRef.child("users/"+a+"/horario").on("value",(function(t){e.setState({allMatRows:t.val(),loading:!1})}))}))}},{key:"subtractCounter",value:function(){this.counterRef.set(this.state.counter-1)}},{key:"addTodo",value:function(e,t){var a={title:e,text:t,checked:!1};this.state.todos.push(a),this.todosUserRef.update({todos:this.state.todos,counter:this.state.counter}),this.setState({inputValue:""})}},{key:"checkTodo",value:function(e,t,a){var n=this;this.todosRef.child(a).update({text:e,checked:!t}),this.state.todos.map((function(e){if(a!==n.state.todos.indexOf(e))return e.checked=!0}))}},{key:"removeTodo",value:function(e){var t=this,a=this.state.todos.filter((function(a){if(e!==t.state.todos.indexOf(a))return a}));this.todosUserRef.update({todos:a,counter:this.state.counter})}},{key:"updateInputValueTitle",value:function(e){this.setState({inputValueTitle:e.target.value})}},{key:"updateInputValue",value:function(e){this.setState({inputValue:e.target.value})}},{key:"handleKeyPress",value:function(e){"Enter"==e.key&&this.addTodo(this.state.inputValue)}},{key:"editHorario",value:function(){this.setState({edit:!this.state.edit})}},{key:"guardarHorario",value:function(){this.setState({edit:!1});var e=Array.prototype.map.call(document.querySelectorAll("#horario tr"),(function(e){if(e.querySelectorAll("th input").length>0)return Array.prototype.map.call(e.querySelectorAll("th input"),(function(e){return e.value}))}));e.shift(),console.log("HORARIO:",e);try{var t=this.props.firebase.auth.currentUser.uid;0!=e.length?null!=t?(this.props.firebase.user(t).update({horario:e}),this.props.history.push(g)):alert("Parece que no tienes una USUARIO, por lo que no puedes generar un horario. Tienes la opcion de IMPRIMIR sin registrarte"):alert("No hay datos, Importa un horario")}catch(a){alert("Parece que no tienes una USUARIO, por lo que no puedes generar un horario. Tienes la opcion de IMPRIMIR sin registrarte")}}},{key:"render",value:function(){var e=this,t=this.state.todos.map((function(t,a){return r.a.createElement(ge,{key:a,index:a,title:t.title,text:t.text,checked:t.checked,checkTodo:e.checkTodo.bind(e),removeTodo:e.removeTodo.bind(e)})}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{className:"no-print",style:{position:"fixed",top:32,left:32,background:"#fff",padding:8,borderRadius:1e4,textAlign:"center",display:"flex",alignItems:"center",cursor:"pointer",justifyContent:"center",height:38,width:58,boxShadow:"0 2px 5px #00000045"},to:"/"},r.a.createElement(y,{className:"no-print",name:"back"})),r.a.createElement("div",{className:"container"},r.a.createElement("div",{class:"row justify-content-between",style:{marginTop:32}},r.a.createElement("div",{class:"col-6"}),r.a.createElement("div",{class:"col-6",style:{alignItems:"center",display:"flex",justifyContent:"flex-end"}},r.a.createElement("div",{class:"dropdown"},r.a.createElement("a",{style:{borderRadius:1e3,background:"#efecec",display:"flex",padding:4,alignItems:"center"},type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},r.a.createElement("img",{style:{width:32,height:32,borderRadius:1e4},src:"https://www.searchpng.com/wp-content/uploads/2019/02/Men-Profile-Image-715x657.png"}),r.a.createElement("p",{style:{marginLeft:8,marginRight:8,maxWidth:100,overflow:"hidden"}},this.state.user&&this.state.user.email)),r.a.createElement("div",{class:"dropdown-menu","aria-labelledby":"dropdownMenuButton"},r.a.createElement(E.a,{to:"/info",class:"dropdown-item",href:"#"},"Informacion"),r.a.createElement(E.a,{to:"/signout",class:"dropdown-item",href:"#"},"Cerrar Sesion"))))),r.a.createElement("div",{className:"App container"},r.a.createElement("div",{class:"modal fade",id:"exampleModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},r.a.createElement("div",{class:"modal-dialog",role:"document"},r.a.createElement("div",{class:"modal-content"},r.a.createElement("div",{class:"modal-header"},r.a.createElement("h5",{class:"modal-title",id:"exampleModalLabel"},"A\xf1adir nueva tarea"),r.a.createElement("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{class:"modal-body"},r.a.createElement("div",{className:"row"},r.a.createElement("input",{placeholder:"Titulo",className:"form-control",value:this.state.inputValueTitle,onChange:function(t){return e.updateInputValueTitle(t)}}),r.a.createElement("input",{placeholder:"Descripcion",className:"form-control mt-3",value:this.state.inputValue,onChange:function(t){return e.updateInputValue(t)}}))),r.a.createElement("div",{class:"modal-footer"},r.a.createElement("button",{type:"button",class:"btn btn-secondary","data-dismiss":"modal"},"Cancelar"),r.a.createElement("button",{type:"button","data-dismiss":"modal",class:"btn btn-".concat(this.state.inputValueTitle?"success":"default"),disabled:!this.state.inputValueTitle,onClick:function(){return e.addTodo(e.state.inputValueTitle,e.state.inputValue)}},"Guardar"))))),r.a.createElement("button",{type:"button","data-toggle":"modal","data-target":"#exampleModal",style:{border:"none",fontWeight:"bold",position:"fixed",bottom:32,right:32,padding:"16px 32px",borderRadius:1e3,background:"#1e2786",color:"#fff",boxShadow:"0 2px 5px #00000035"},className:"btn-".concat(this.state.inputValue?"success":"default")},"Nueva tarea"),r.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},r.a.createElement("div",{className:"mb-3"},r.a.createElement("h3",null,"Horario"),r.a.createElement("p",null,"Personaliza tu horario")),r.a.createElement("div",null,r.a.createElement("button",{style:{borderRadius:1e3,fontWeight:"bold",paddingLeft:16,paddingRight:16,color:"#1e2786",boxShadow:"0 2px 5px #00000015",background:"#fff",height:35,border:"none"},onClick:function(){return e.editHorario()}},this.state.edit?"Cancelar":"Editar"),this.state.edit?r.a.createElement("button",{style:{borderRadius:1e3,fontWeight:"bold",paddingLeft:16,paddingRight:16,marginLeft:16,boxShadow:"0 2px 5px #00000015",color:"#fff",background:"#28a745",height:35,border:"none"},onClick:function(){return e.guardarHorario()}},"Guardar"):null)),r.a.createElement("table",{id:"horario",className:"table mt-3",style:{borderRadius:16,background:"#fafafa",boxShadow:"0 2px 5px #00000015",overflow:"hidden"}},r.a.createElement("thead",{className:"thead-dark"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Hora"),r.a.createElement("th",{scope:"col"},"Lunes"),r.a.createElement("th",{scope:"col"},"Martes"),r.a.createElement("th",{scope:"col"},"Miercoles"),r.a.createElement("th",{scope:"col"},"Jueves"),r.a.createElement("th",{scope:"col"},"Viernes"),r.a.createElement("th",{scope:"col"},"Sabado"),r.a.createElement("th",{scope:"col"},"Domingo"))),r.a.createElement("tbody",null,this.state.allMatRows&&this.state.allMatRows.map((function(t,a){return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",null,t.map((function(t,a){if(e.state.edit){if(t){var n=t&&t.split(/\n\n/g);return r.a.createElement("th",{scope:"col"},r.a.createElement("input",{type:"text",class:"form-control",placeholder:"Username","aria-label":"Username","aria-describedby":"addon-wrapping",value:n[0]}),r.a.createElement("p",{style:{fontWeight:"bold",fontSize:8}},n[1]))}return r.a.createElement("th",null,r.a.createElement("input",{type:"text",class:"form-control",placeholder:"Libre","aria-label":"Username","aria-describedby":"addon-wrapping"}))}return""!=t?r.a.createElement("th",{scope:"col"},r.a.createElement("p",{style:{fontWeight:"bold",fontSize:12}},t)):r.a.createElement("th",null,r.a.createElement("p",{style:{fontWeight:"bold",fontSize:8}},"--"))}))))})))),r.a.createElement("div",null,r.a.createElement("h3",null,"Lista"),r.a.createElement("p",null,"Anota tus tareas y cumplelas de forma ordenada")),r.a.createElement("div",{className:"mt-4 ",style:{marginBottom:150}},t))))}}]),t}(r.a.Component),be=O(ve),ye=function(e){var t=e.authUser;e.selected;return r.a.createElement("div",{className:"col-2",style:{borderRight:"solid 1px #ccc",padding:"0",overflow:"hidden",height:"100vh"}},r.a.createElement("div",{className:"title-og"},r.a.createElement("label",null,"OLMEGAS "),r.a.createElement("label",null,"ADMIN")),r.a.createElement("ul",{className:"nav flex-column nav-pills"},r.a.createElement("li",{className:"nav-link"},r.a.createElement(E.a,{to:v},"Home/Stadistics")),r.a.createElement("li",{className:"nav-link "},r.a.createElement(E.a,{to:"/caja"},"Caja")),r.a.createElement("li",{className:"nav-link "},r.a.createElement(E.a,{to:"/flota"},"Flota")),r.a.createElement("li",{className:"nav-link "},r.a.createElement(E.a,{to:"/workers"},"Trabajadores")),r.a.createElement("li",{className:"nav-link "},r.a.createElement(E.a,{to:"/notify"},"Notificaciones")),r.a.createElement("li",{className:"nav-link "},r.a.createElement(E.a,{to:"/account"},"Cuenta")),!!t.roles[Z]&&r.a.createElement("li",{className:"nav-link "},r.a.createElement(E.a,{to:"/admin"},"Admin")),r.a.createElement("li",{className:"nav-link "},r.a.createElement(ue,null))))},Ne=function(){return r.a.createElement("div",{className:"col-2",style:{borderRight:"solid 1px #ccc",padding:"0",overflow:"hidden",height:"100vh"}},r.a.createElement("ul",{className:"nav flex-column nav-pills"},r.a.createElement("li",{className:"nav-link"},r.a.createElement(E.a,{to:"/"},"Landing")),r.a.createElement("li",{className:"nav-link"},r.a.createElement(E.a,{to:"/signin"},"Sign In"))))},we=function(e){return r.a.createElement(T.Consumer,null,(function(t){return t?r.a.createElement(ye,{authUser:t,selected:e.menu}):r.a.createElement(Ne,null)}))},xe={passwordOne:"",passwordTwo:"",error:null},Ce=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).onSubmit=function(e){var t=a.state.passwordOne;a.props.firebase.doPasswordUpdate(t).then((function(){a.setState(Object(M.a)({},xe)),alert.React("Cambio de contrase\xf1a exitoso")})).catch((function(e){alert("Error en cambio de contrase\xf1a")})),e.preventDefault()},a.onChange=function(e){a.setState(Object(z.a)({},e.target.name,e.target.value))},a.state=Object(M.a)({},xe),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state,t=e.passwordOne,a=e.passwordTwo,n=e.error,l=t!==a||""===t;return r.a.createElement("form",{className:"formNew",onSubmit:this.onSubmit},r.a.createElement("div",{id:"format"},r.a.createElement("label",{for:"inputPassword",class:"sr-only"},"Password"),r.a.createElement("input",{className:"form-control",id:"inputCount",name:"passwordOne",value:t,onChange:this.onChange,type:"password",placeholder:"Contrase\xf1a"}),r.a.createElement("label",{for:"inputPassword",class:"sr-only"},"Password"),r.a.createElement("input",{className:"form-control",id:"inputCount",name:"passwordTwo",value:a,onChange:this.onChange,type:"password",placeholder:"confirma tu contrase\xf1a"}),r.a.createElement("button",{className:"btn btn-lg btn-primary btn-block",id:"butonChange",disabled:l,type:"submit"},"Cambiar contrase\xf1a")),n&&r.a.createElement("p",null,n.message))}}]),t}(n.Component),ke=O(Ce),je=[{id:"password",provider:null},{id:"google.com",provider:"googleProvider"},{id:"facebook.com",provider:"facebookProvider"},{id:"twitter.com",provider:"twitterProvider"}],Oe=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).fetchSignInMethods=function(){a.props.firebase.auth.fetchSignInMethodsForEmail(a.props.authUser.email).then((function(e){return a.setState({activeSignInMethods:e,error:null})})).catch((function(e){return a.setState({error:e})}))},a.onSocialLoginLink=function(e){a.props.firebase.auth.currentUser.linkWithPopup(a.props.firebase[e]).then(a.fetchSignInMethods).catch((function(e){return a.setState({error:e})}))},a.onDefaultLoginLink=function(e){var t=a.props.firebase.emailAuthProvider.credential(a.props.authUser.email,e);a.props.firebase.auth.currentUser.linkAndRetrieveDataWithCredential(t).then(a.fetchSignInMethods).catch((function(e){return a.setState({error:e})}))},a.onUnlink=function(e){a.props.firebase.auth.currentUser.unlink(e).then(a.fetchSignInMethods).catch((function(e){return a.setState({error:e})}))},a.state={activeSignInMethods:[],error:null},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.fetchSignInMethods()}},{key:"render",value:function(){var e=this.state,t=(e.activeSignInMethods,e.error);return r.a.createElement("div",null,r.a.createElement("ul",null,je.map((function(e){}))),t&&t.message)}}]),t}(n.Component),Se=(n.Component,O(Oe)),Ae=Object(k.a)(B,P((function(e){return!!e})))((function(){return r.a.createElement(T.Consumer,null,(function(e){return r.a.createElement("div",{className:"row"},r.a.createElement(we,{menu:"account"}),r.a.createElement("div",{className:"col-10"},r.a.createElement("h1",{style:{textAlign:"center"}},"Cuenta: ",e.email),r.a.createElement(ae,null),r.a.createElement(ke,null),r.a.createElement(Se,{authUser:e})))}))})),Le=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={loading:!1,users:[]},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),this.props.firebase.admins().on("value",(function(t){var a=t.val(),n=Object.keys(a).map((function(e){return Object(M.a)({},a[e],{uid:e})}));e.setState({users:n,loading:!1})}))}},{key:"componentWillUnmount",value:function(){this.props.firebase.admins().off()}},{key:"render",value:function(){var e=this.state,t=e.users,a=e.loading;return r.a.createElement("div",null,r.a.createElement("h2",null,"Users"),a&&r.a.createElement("div",null,"Loading ..."),r.a.createElement("ul",null,t.map((function(e){return r.a.createElement("li",{key:e.uid},r.a.createElement("span",null,r.a.createElement("strong",null,"ID:")," ",e.uid),r.a.createElement("span",null,r.a.createElement("strong",null,"E-Mail:")," ",e.email),r.a.createElement("span",null,r.a.createElement("strong",null,"Username:")," ",e.username),r.a.createElement("span",null,r.a.createElement(E.a,{to:{pathname:"".concat("/admin","/").concat(e.uid),state:{user:e}}},"Details")))}))))}}]),t}(n.Component),Me=O(Le),Ie=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).onSendPasswordResetEmail=function(){a.props.firebase.doPasswordReset(a.state.user.email)},a.state=Object(M.a)({loading:!1,user:null},e.location.state),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.state.user||(this.setState({loading:!0}),this.props.firebase.admin(this.props.match.params.id).on("value",(function(t){e.setState({user:t.val(),loading:!1})})))}},{key:"componentWillUnmount",value:function(){this.props.firebase.admin(this.props.match.params.id).off()}},{key:"render",value:function(){var e=this.state,t=e.user,a=e.loading;return r.a.createElement("div",null,r.a.createElement("h2",null,"User (",this.props.match.params.id,")"),a&&r.a.createElement("div",null,"Loading ..."),t&&r.a.createElement("div",null,r.a.createElement("span",null,r.a.createElement("strong",null,"ID:")," ",t.uid),r.a.createElement("span",null,r.a.createElement("strong",null,"E-Mail:")," ",t.email),r.a.createElement("span",null,r.a.createElement("strong",null,"Username:")," ",t.username),r.a.createElement("span",null,r.a.createElement("button",{type:"button",onClick:this.onSendPasswordResetEmail},"Send Password Reset"))))}}]),t}(n.Component),Ue=O(Ie),De=Object(k.a)(B,P((function(e){return e&&!!e.roles[Z]})))((function(){return r.a.createElement("div",{className:"row"},r.a.createElement(we,{menu:"account"}),r.a.createElement("div",{className:"col-10"},r.a.createElement("h1",null,"Admin"),r.a.createElement("p",null,"The Admin Page is accessible by every signed in admin user."),r.a.createElement(p.a,null,r.a.createElement(f.a,{exact:!0,path:"/admin/:id",component:Ue}),r.a.createElement(f.a,{exact:!0,path:"/admin",component:Me}))))})),Re=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{height:"100vh"}},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-3"}),r.a.createElement("div",{className:"col-3",style:{position:"fixed",paddingTop:32}},r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement(E.a,{className:"no-print",style:{background:"#fff",padding:8,borderRadius:1e4,textAlign:"center",display:"flex",alignItems:"center",cursor:"pointer",justifyContent:"center",height:38,width:58,boxShadow:"0 2px 5px #00000045"},to:g},r.a.createElement(y,{className:"no-print",name:"back"})),r.a.createElement("h3",{style:{marginLeft:16,marginBottom:0}},"Info")),r.a.createElement("div",{id:"list-example",class:"list-group mt-4"},r.a.createElement("a",{class:"list-group-item list-group-item-action",href:"#list-item-1"},"1.Introducci\xf3n"),r.a.createElement("a",{class:"list-group-item list-group-item-action",href:"#list-item-2"},"2.Primeros Pasos"),r.a.createElement("a",{class:"list-group-item list-group-item-action",href:"#list-item-3"},"3.Crear Horario"),r.a.createElement("a",{class:"list-group-item list-group-item-action",href:"#list-item-4"},"4.Asignar Actividades"),r.a.createElement("a",{class:"list-group-item list-group-item-action",href:"#list-item-5"},"5.Guardar Horario"))),r.a.createElement("div",{className:"col-9",style:{padding:32}},r.a.createElement("div",null,r.a.createElement("h1",null,"Zetplain"),r.a.createElement("p",{className:"mb-4"},"Manual de usuario e informacion"),r.a.createElement("h4",{id:"list-item-1"},"1.Introducci\xf3n"),r.a.createElement("p",null,"Zetplain es un programa que te permite crear tu propio horario academico adem\xe1s de darte la capacidad de asignar otras actividades que puedes incluir dentro de tu horario."),r.a.createElement("h4",{id:"list-item-1"},"2.Primeros Pasos"),r.a.createElement("p",null,"Para comenzar a usar ZETPLAIN primero debes registrarte y logearte en la primera pantalla, luego de eso pasaras a la panatlla prinicpal que te mostrar\xe1 todas las herramientas para elaborar tu horario"),r.a.createElement("h4",{id:"list-item-1"},"3.Crear Horario"),r.a.createElement("p",null,"Al pulsar el boton (no se como se llama) te llevara a una nueva ventana en la cual deber\xe1s escoger las materias a cursar ese semestre y automaticamente se genera un horario con tiempos de almuerzo y descanso."),r.a.createElement("h4",{id:"list-item-1"},"4.Asignar Actividades"),r.a.createElement("p",null,"Para asginar una actividad primero debes hacer clic en cualquier recuadro vacio del horario, al pularlo podras ingresar la actvidad que vas a realizar en esa hora espec\xedfica."),r.a.createElement("h4",{id:"list-item-1"},"5.Guardar Horario"),r.a.createElement("p",null,"Para guardar el horario simplemente tienes que hacer clic en el boton GUARDAR y escoger la ruta de ubicacion de tu preferencia.")))))}}]),t}(n.Component),Te=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={loading:!0,clients:"",drivers:"",admins:"",views:"",orders:"",product:"",data:"",flota:""},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(){return L.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}))}},{key:"componentDidMount",value:function(){var e=this;return L.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:this.props.firebase.getLive("/orders",(function(t){var a=t.numChildren();e.props.firebase.db.ref("/statistics").update({orders:a})}),(function(e){return console.log("Error: ",e)})),this.props.firebase.getLive("/statistics/orders",(function(t){e.setState({orders:t.val(),loading:!1})}),(function(e){return console.log("Error: ",e)})),this.props.firebase.getLive("/users",(function(t){var a=t.numChildren();e.props.firebase.db.ref("/statistics").update({clients:a})}),(function(e){return console.log("Error: ",e)})),this.props.firebase.getLive("/statistics/clients",(function(t){e.setState({clients:t.val(),loading:!1})}),(function(e){return console.log("Error: ",e)})),this.props.firebase.getLive("/store/category/gas",(function(t){var a=t.numChildren();e.props.firebase.db.ref("/statistics").update({products:a})}),(function(e){return console.log("Error: ",e)})),this.props.firebase.getLive("/flota",(function(t){var a=t.numChildren();e.props.firebase.db.ref("/statistics").update({flota:a})}),(function(e){return console.log("Error: ",e)})),this.props.firebase.getLive("/statistics/products",(function(t){e.setState({product:t.val(),loading:!1})}),(function(e){return console.log("Error: ",e)})),this.props.firebase.getLive("/statistics/flota",(function(t){e.setState({flota:t.val(),loading:!1})}),(function(e){return console.log("Error: ",e)})),this.props.firebase.getLive("/statistics/clients",(function(t){e.setState({clients:t.val(),loading:!1})}),(function(e){return console.log("Error: ",e)})),this.props.firebase.getLive("/admins",(function(t){var a=t.numChildren();e.props.firebase.db.ref("/statistics").update({admins:a})}),(function(e){return console.log("Error: ",e)})),this.props.firebase.getLive("/statistics/admins",(function(t){e.setState({admins:t.val(),loading:!1})}),(function(e){return console.log("Error: ",e)})),this.props.firebase.getLive("/worker",(function(t){var a=t.numChildren();e.props.firebase.db.ref("/statistics").update({drivers:a})}),(function(e){return console.log("Error: ",e)})),this.props.firebase.getLive("/statistics/drivers",(function(t){e.setState({drivers:t.val(),loading:!1})}),(function(e){return console.log("Error: ",e)})).then((function(e){console.log(e)})).catch((function(t){console.log("Error"),e.setState({drivers:"Error: ".concat(t),views:"Error: ".concat(t),users:"Error: ".concat(t),orders:"Error: ".concat(t),clients:"Error: ".concat(t),loading:!1})}));case 13:case"end":return t.stop()}}),null,this)}},{key:"render",value:function(){var e=this.state,t=e.loading,a=e.clients,n=e.orders,l=e.drivers,s=e.admins,o=e.flota,i=e.product;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement(we,{menu:"stadistics"}),r.a.createElement("div",{className:"col-10"},r.a.createElement("div",{className:"row"},r.a.createElement("img",{style:{objectFit:"contain",borderRadius:"20px",width:"100px",height:"100px"},src:"https://d500.epimg.net/cincodias/imagenes/2015/05/08/pyme/1431098283_691735_1431098420_noticia_normal.jpg"}),r.a.createElement("p",null),r.a.createElement("h1",{className:"tiFuent",style:{color:"#56b889",fontSize:"30px"}},"  Estadistica Olmegas")),r.a.createElement("div",{className:" d-flex",style:{marginTop:"16px"}},r.a.createElement("div",{className:"divCont"},r.a.createElement("div",null,r.a.createElement("h2",{className:"tiFuent"}," Ordenes ")),r.a.createElement("div",{id:"container"},r.a.createElement(y,{className:"iconIcon",name:"sesion",fill:"#56b889"})),r.a.createElement("div",{style:{marginLeft:"20px",marginTop:"-50px"}},r.a.createElement("p",{className:"parragraph"},t?"Loading...":n," "))),r.a.createElement("div",{className:"divCont"},r.a.createElement("div",null,r.a.createElement("h2",{className:"tiFuent"}," Administradores ")),r.a.createElement("div",{id:"container"},r.a.createElement(y,{className:"iconIcon",name:"usuarios",fill:"#56b889"})),r.a.createElement("div",{style:{marginLeft:"20px",marginTop:"-50px"}},r.a.createElement("p",{className:"parragraph"},t?"Loading...":s," "))),r.a.createElement("div",{className:"divCont"},r.a.createElement("div",null,r.a.createElement("h2",{className:"tiFuent"}," vehiculos ")),r.a.createElement("div",{id:"container"},r.a.createElement(y,{className:"iconIcon",name:"pages",fill:"#56b889"})),r.a.createElement("div",{style:{marginLeft:"20px",marginTop:"-50px"}},r.a.createElement("p",{className:"parragraph"},t?"Loading...":o," ")))),r.a.createElement("div",{className:" d-flex",style:{marginTop:"16px"}},r.a.createElement("div",{className:"divCont"},r.a.createElement("div",null,r.a.createElement("h2",{className:"tiFuent"}," Productos ")),r.a.createElement("div",{id:"container"},r.a.createElement(y,{className:"iconIcon",name:"view",fill:"#56b889"})),r.a.createElement("div",{style:{marginLeft:"20px",marginTop:"-50px"}},r.a.createElement("p",{className:"parragraph"},t?"Loading...":i," "))),r.a.createElement("div",{className:"divCont"},r.a.createElement("div",null,r.a.createElement("p",{className:"tiFuent"}," Clientes ")),r.a.createElement("div",{id:"container"},r.a.createElement(y,{className:"iconIcon",name:"person",fill:"#56b889"})),r.a.createElement("div",{style:{marginLeft:"20px",marginTop:"-50px"}},r.a.createElement("p",{className:"parragraph"},t?"Loading...":a," "))),r.a.createElement("div",{className:"divCont"},r.a.createElement("div",null,r.a.createElement("h2",{className:"tiFuent"}," Conductores ")),r.a.createElement("div",{id:"container"},r.a.createElement(y,{className:"iconIcon",name:"car",fill:"#56b889"})),r.a.createElement("div",{style:{marginLeft:"20px",marginTop:"-50px"}},r.a.createElement("p",{className:"parragraph"},t?"Loading...":l," ")))))))}}]),t}(r.a.Component),Fe=(O(Te),function(e){function t(e){return Object(o.a)(this,t),Object(c.a)(this,Object(m.a)(t).call(this,e))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.loading,n=t.data,l=t.notExist;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"spaceUp border-bottom"},r.a.createElement("div",null,r.a.createElement("h2",{style:{color:"#3941ca"}},"Lista de Unidades"))),r.a.createElement("table",{className:"table table-hover"},console.log("data table",n),console.log("length",n.length),r.a.createElement("tbody",null,1==a&&0==l?n.map((function(t,n){return r.a.createElement(Ve,{callBack:e.props.callBack.bind(),key:n,data:t,loading:a,id:n,disarmClic:e.props.disarmClic})})):0==a&&0==l?r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("p",null,"Cargando..."),r.a.createElement("div",{className:"spinner-border text-primary",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading..."))):r.a.createElement("div",null,"No existen datos"))))}}]),t}(r.a.Component)),Ve=function(e){function t(e){return Object(o.a)(this,t),Object(c.a)(this,Object(m.a)(t).call(this,e))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.loading,n=t.data,l=t.id,s=t.disarmClic;return console.log("data",n),console.log("id",l),r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",{onClick:function(){s?alert("Se encuentra editando la informacion de un empleado"):e.props.callBack(l)}},r.a.createElement("td",{className:"align-middle center"},r.a.createElement("img",{src:a?n.urlCar:null})),r.a.createElement("td",{className:"align-middle center"},r.a.createElement("p",{style:{display:"inline-block"}},a?n.estadoCar:"loading...")),r.a.createElement("td",{className:"align-middle center"},a?n.placa:"loading..."),r.a.createElement("td",{className:"align-middle center"},a?n.nf:"loading...")))}}]),t}(r.a.Component),Pe=Fe,Be=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={data:""},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"submit",value:function(e,t){var a=document.getElementById("nf").value,n=document.getElementById("placa").value,r=document.getElementById("urlCar").value;""==r&&(r="https://as.com/epik/imagenes/2018/02/24/portada/1519476624_853121_1519476669_noticia_normal.jpg");var l={nf:a,placa:n,nowOrder:0,numberofOrders:0,estadoCar:"rodando",lastMaintenance:"06/08/2019",isActive:"false",maxtanques:document.getElementById("maxtanques").value,urlCar:r};console.log(">>>Se envio con exito<<<",l),t.setFlota("/flota/",l),alert("Se agrego con exito el empleado")}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:function(t){e.submit(t,e.props.firebase)},className:"container"},r.a.createElement("h2",{className:"spaceUp",style:{color:"#3941ca"}},"Datos de la unidad:"),r.a.createElement("div",{className:"input-group spaceUp"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},"Imagen de la Unidad url:")),r.a.createElement("input",{id:"urlCar",type:"url",className:"form-control",placeholder:"https://example.com/example_image.jpg"})),r.a.createElement("div",{className:"input-group spaceUp"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},"N\xfamero de flota")),r.a.createElement("input",{id:"nf",type:"text",className:"form-control",required:!0,placeholder:"01",pattern:"[0-9]{2}"})),r.a.createElement("div",{className:"input-group spaceUp"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},"Placas")),r.a.createElement("input",{id:"placa",type:"text",className:"form-control",required:!0,placeholder:"TCD-0090",pattern:"([A-Z]{3}-\\d{3,4})"})),r.a.createElement("div",{className:"input-group spaceUp"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},"N\xfamero m\xe1ximo de tanques")),r.a.createElement("input",{id:"maxtanques",type:"text",className:"form-control",required:!0,placeholder:"40",pattern:"[0-9]{1,2}"})),r.a.createElement("div",{className:"spaceUp",style:{marginBottom:16}},r.a.createElement("input",{id:"submit_button",type:"submit",className:"btn btn-primary btn-lg btn-block",value:"A\xf1adir"}))))}}]),t}(r.a.Component),He=O(Be),_e=function(e){function t(e){return Object(o.a)(this,t),Object(c.a)(this,Object(m.a)(t).call(this,e))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"progress",value:function(e){return e>0&&e<1?r.a.createElement(r.a.Fragment,null,r.a.createElement(y,{name:"star-half",fill:"#ff0000"}),r.a.createElement(y,{name:"star-empty",fill:"#ff0000"}),r.a.createElement(y,{name:"star-empty",fill:"#ff0000"}),r.a.createElement(y,{name:"star-empty",fill:"#ff0000"}),r.a.createElement(y,{name:"star-empty",fill:"#ff0000"})):e>=1&&e<1.5?r.a.createElement(r.a.Fragment,null,r.a.createElement(y,{name:"star",fill:"#ff0e00"}),r.a.createElement(y,{name:"star-empty",fill:"#ff0e00"}),r.a.createElement(y,{name:"star-empty",fill:"#ff0e00"}),r.a.createElement(y,{name:"star-empty",fill:"#ff0e00"}),r.a.createElement(y,{name:"star-empty",fill:"#ff0e00"})):e>=1.5&&e<2?r.a.createElement(r.a.Fragment,null,r.a.createElement(y,{name:"star",fill:"#ff3500"}),r.a.createElement(y,{name:"star-half",fill:"#ff3500"}),r.a.createElement(y,{name:"star-empty",fill:"#ff3500"}),r.a.createElement(y,{name:"star-empty",fill:"#ff3500"}),r.a.createElement(y,{name:"star-empty",fill:"#ff3500"})):e>=2&&e<2.5?r.a.createElement(r.a.Fragment,null,r.a.createElement(y,{name:"star",fill:"#ff4000"}),r.a.createElement(y,{name:"star",fill:"#ff4000"}),r.a.createElement(y,{name:"star-empty",fill:"#ff4000"}),r.a.createElement(y,{name:"star-empty",fill:"#ff4000"}),r.a.createElement(y,{name:"star-empty",fill:"#ff4000"})):e>=2.5&&e<3?r.a.createElement(r.a.Fragment,null,r.a.createElement(y,{name:"star",fill:"#ff4d0e"}),r.a.createElement(y,{name:"star",fill:"#ff4d0e"}),r.a.createElement(y,{name:"star-half",fill:"#ff4d0e"}),r.a.createElement(y,{name:"star-empty",fill:"#ff4d0e"}),r.a.createElement(y,{name:"star-empty",fill:"#ff4d0e"})):e>=3&&e<3.5?r.a.createElement(r.a.Fragment,null,r.a.createElement(y,{name:"star",fill:"#ff7c0e"}),r.a.createElement(y,{name:"star",fill:"#ff7c0e"}),r.a.createElement(y,{name:"star",fill:"#ff7c0e"}),r.a.createElement(y,{name:"star-empty",fill:"#ff7c0e"}),r.a.createElement(y,{name:"star-empty",fill:"#ff7c0e"})):e>=3.5&&e<4?r.a.createElement(r.a.Fragment,null,r.a.createElement(y,{name:"star",fill:"#ffaa24"}),r.a.createElement(y,{name:"star",fill:"#ffaa24"}),r.a.createElement(y,{name:"star",fill:"#ffaa24"}),r.a.createElement(y,{name:"star-half",fill:"#ffaa24"}),r.a.createElement(y,{name:"star-empty",fill:"#ffaa24"})):e>=4&&e<4.5?r.a.createElement(r.a.Fragment,null,r.a.createElement(y,{name:"star",fill:"#ffbf00"}),r.a.createElement(y,{name:"star",fill:"#ffbf00"}),r.a.createElement(y,{name:"star",fill:"#ffbf00"}),r.a.createElement(y,{name:"star",fill:"#ffbf00"}),r.a.createElement(y,{name:"star-empty",fill:"#ffbf00"})):e>=4.5&&e<5?r.a.createElement(r.a.Fragment,null,r.a.createElement(y,{name:"star",fill:"#ffd524"}),r.a.createElement(y,{name:"star",fill:"#ffd524"}),r.a.createElement(y,{name:"star",fill:"#ffd524"}),r.a.createElement(y,{name:"star",fill:"#ffd524"}),r.a.createElement(y,{name:"star-half",fill:"#ffd524"})):5==e?r.a.createElement(r.a.Fragment,null,r.a.createElement(y,{name:"star",fill:"#ffff24"}),r.a.createElement(y,{name:"star",fill:"#ffff24"}),r.a.createElement(y,{name:"star",fill:"#ffff24"}),r.a.createElement(y,{name:"star",fill:"#ffff24"}),r.a.createElement(y,{name:"star",fill:"#ffff24"})):void 0}},{key:"render",value:function(){var e=this.props.num;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"center"},r.a.createElement("p",null,e),this.progress(e)))}}]),t}(r.a.Component),We=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={showurlCar:!1},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"progress",value:function(e,t){return 100*e/t+"%"}},{key:"edit",value:function(e,t){var a={nf:document.getElementById("nf").value,placa:document.getElementById("placa").value,urlCar:document.getElementById("urlCar").value,maxtanques:document.getElementById("maxtanques").value};e.modify("/flota/"+t,a),console.log(">>>Se modifico con exito<<<",a),this.props.success()}},{key:"render",value:function(){var e=this,t=this.props,a=t.loading,n=t.data,l=t.id;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"d-flex row align-items-center justify-content-between border-bottom "},r.a.createElement("div",null,r.a.createElement("h1",{id:"titleinfoFlota"},"Datos de la Unidad")),r.a.createElement("div",null,r.a.createElement("div",{onClick:function(){alert("Ya se encuentra en esta pesta\xf1a")}},r.a.createElement(y,{name:"account-edit",fill:"#78cf00"})),r.a.createElement("div",{onClick:function(){alert("Se encuentra en la pesta\xf1a de editar datos")}},r.a.createElement(y,{name:"account-delete",fill:"#e0dede"}))))),r.a.createElement("form",{onSubmit:function(){e.edit(e.props.firebase,n[l].placa)},className:"container"},r.a.createElement("div",{className:"spaceUp"},r.a.createElement("div",{className:"spaceUp row align-items-center justify-content-between"},r.a.createElement("div",{className:"col-2"},r.a.createElement("img",{className:"imgflota",src:a?n[l].urlCar:null}),r.a.createElement("div",{id:"clicUrl",className:"d-flex justify-content-center align-items-center iconImageEdit",onClick:function(){e.setState({showurlCar:!0})}},r.a.createElement(y,{name:"pencil",fill:"#fffff"}))),r.a.createElement("div",{className:"input-group col-9",hidden:!this.state.showurlCar},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},"url:")),r.a.createElement("input",{id:"urlCar",type:"url",className:"form-control",placeholder:"https://example.com/example_image.jpg",defaultValue:a?n[l].urlCar:"loading..."}))),r.a.createElement("div",{className:"row justify-content-between"},r.a.createElement("div",null,r.a.createElement("p",null,"Pedidos entregados:")),r.a.createElement("div",{className:"row"},r.a.createElement("p",null,a?n[l].nowOrder:"loading..."),r.a.createElement("p",null,"/"),r.a.createElement("p",null,a?n[l].numberofOrders:"loading..."))),r.a.createElement("div",{className:"progress"},r.a.createElement("div",{className:"progress-bar bg-warning progress-bar-striped progress-bar-animated",role:"progressbar",style:{width:this.progress(n[l].nowOrder,n[l].numberofOrders)},"aria-valuemin":"0","aria-valuemax":"100"},r.a.createElement("div",{className:"row justify-content-around"},r.a.createElement("p",null,a?n[l].nowOrder:"loading..."),r.a.createElement("p",null,"de"),r.a.createElement("p",null,a?n[l].numberofOrders:"loading...")))),r.a.createElement("div",{className:"spaceUp"},r.a.createElement("div",null,r.a.createElement("div",{className:"row justify-content-between"},r.a.createElement("p",null,"N\xfamero de flota:"),r.a.createElement("input",{id:"nf",type:"text",className:"form-control",placeholder:"01",pattern:"[0-9]{2}",defaultValue:a?n[l].nf:"loading..."})),r.a.createElement("div",{className:"row justify-content-between"},r.a.createElement("p",null,"Placas:"),r.a.createElement("input",{id:"placa",type:"text",className:"form-control",placeholder:"TCD-0090",pattern:"([A-Z]{3}-\\d{3,4})",defaultValue:a?n[l].placa:"loading..."})),r.a.createElement("div",{className:"row justify-content-between"},r.a.createElement("p",null,"Estado:"),r.a.createElement("p",null,a?n[l].estadoCar:"loading...")),r.a.createElement("div",{className:"row justify-content-between"},r.a.createElement("p",null,"Maximo de tanques:"),r.a.createElement("input",{id:"maxtanques",type:"text",className:"form-control",placeholder:"40",pattern:"[0-9]{1,2}",defaultValue:a?n[l].maxtanques:"loading..."})),r.a.createElement("div",{className:"row justify-content-between"},r.a.createElement("p",null,"Ultimo mantenimiento:"),r.a.createElement("p",null,a?n[l].lastMaintenance:"loading...")))),r.a.createElement("div",{className:"row justify-content-around spaceUp",style:{marginBottom:16}},r.a.createElement("div",null,r.a.createElement("input",{type:"submit",className:"btn btn-outline-primary",value:"Actualizar"})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit",className:"btn btn-outline-primary",onClick:function(t){e.props.back(t)}},"Cancelar"))))))}}]),t}(r.a.Component),ze=O(We),Ze=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={showedit:!1},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"showE",value:function(){window.confirm("\xbfDesea ingresar a la pesta\xf1a de modificar datos?")?(this.setState({showedit:!0}),this.props.disarm(!0)):alert("Se cancelo la solicitud editar datos")}},{key:"back",value:function(e){window.confirm("\xbfDesea regresar a la pesta\xf1a de datos?")?(this.setState({showedit:!1}),this.props.disarm(!1)):(e.preventDefault(),alert("Se cancelo la solicitud"))}},{key:"success",value:function(){alert("Se modificaron los datos del empleado con exito"),this.setState({showedit:!1}),this.props.disarm(!1)}},{key:"render",value:function(){var e=this.props,t=e.loading,a=e.data,n=e.id;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"col-4 scroll"},this.state.showedit?r.a.createElement(ze,{back:this.back.bind(this),success:this.success.bind(this),loading:t,data:a,id:n}):r.a.createElement(qe,{remove:this.props.remove.bind(),callBack:this.showE.bind(this),loading:t,data:a,id:n,firebase:this.props.firebase})))}}]),t}(r.a.Component),qe=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={snap:[],id:"nada",error:!0,loading:!1,notExist:!0},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"addEmpleado",value:function(e,t,a){var n,r;return L.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:if(n=document.getElementById("cedula").value,console.log("firebase",t),console.log("cedula",n),console.log("CTX",e),""==n){l.next=9;break}return l.next=7,L.a.awrap(t.search("/worker","cedula",n,(function(n){null!=n.val()&&void 0!=n.val()?(console.log("DATADATA",n.val()),r=Object.values(n.val()),t.addWorker("/flota/"+a,r[0].id,a),alert("Se asigno el empleado a la flota")):(e.setState({snap:null,error:!0,loading:!1,notExist:!0}),alert("No se encontro al empleado"))}),(function(e){console.log("Error",e)})));case 7:l.next=10;break;case 9:alert("El campo esta vacio, no se a\xf1adio a nadie");case 10:case"end":return l.stop()}}))}},{key:"progress",value:function(e,t){var a=100*e/t;return console.log("porcent",a),a+"%"}},{key:"render",value:function(){var e=this,t=this.props,a=t.loading,n=t.data,l=t.id,s=t.firebase;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"d-flex row align-items-center justify-content-between border-bottom "},r.a.createElement("div",null,r.a.createElement("h1",{id:"titleinfoFlota"},"Datos de la Unidad")),r.a.createElement("div",null,r.a.createElement("div",{id:"clicEdit",onClick:function(){e.props.callBack()}},r.a.createElement(y,{name:"account-edit",fill:"#fffff"})),r.a.createElement("div",{id:"clicDel",onClick:function(){e.props.remove(n[l].placa,n[l].workers,s)}},r.a.createElement(y,{name:"account-delete",fill:"#fffff"})))),r.a.createElement("div",null,r.a.createElement("div",{className:"spaceUp align-items-center"},r.a.createElement("img",{className:"imgflota",src:a?n[l].urlCar:null})),r.a.createElement("div",{className:"spaceUp"},r.a.createElement("div",null,r.a.createElement("div",{className:"row justify-content-between"},r.a.createElement("div",null,r.a.createElement("p",null,"Pedidos entregados:")),r.a.createElement("div",{className:"row"},r.a.createElement("p",null,a?n[l].nowOrder:"loading..."),r.a.createElement("p",null,"/"),r.a.createElement("p",null,a?n[l].numberofOrders:"loading..."))),r.a.createElement("div",{className:"progress"},r.a.createElement("div",{className:"progress-bar bg-warning progress-bar-striped progress-bar-animated",role:"progressbar",style:{width:this.progress(n[l].nowOrder,n[l].numberofOrders)},"aria-valuemin":"0","aria-valuemax":"100"})),r.a.createElement("div",{className:"row justify-content-between"},r.a.createElement("p",null,"N\xfamero de flota:"),r.a.createElement("p",null,a?n[l].nf:"loading...")),r.a.createElement("div",{className:"row justify-content-between"},r.a.createElement("p",null,"Placas:"),r.a.createElement("p",null,a?n[l].placa:"loading...")),r.a.createElement("div",{className:"row justify-content-between"},r.a.createElement("p",null,"Estado:"),r.a.createElement("p",null,a?n[l].estadoCar:"loading...")),r.a.createElement("div",{className:"row justify-content-between"},r.a.createElement("p",null,"Maximo de tanques:"),r.a.createElement("p",null,a?n[l].maxtanques:"loading...")),r.a.createElement("div",{className:"row justify-content-between",style:{marginBottom:16}},r.a.createElement("p",null,"Ultimo mantenimiento:"),r.a.createElement("p",null,a?n[l].lastMaintenance:"loading...")),r.a.createElement("div",null,r.a.createElement("button",{type:"button",className:"btn btn-primary","data-toggle":"modal","data-target":"#myModal"},"A\xf1adir")),r.a.createElement("div",{id:"myModal",className:"modal fade",role:"dialog"},r.a.createElement("div",{className:"modal-dialog"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h4",{className:"modal-title"},"Asignar Empleado a Flota"),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal"},"\xd7")),r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",{className:"input-group spaceUp"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},"C\xe9dula")),r.a.createElement("input",{id:"cedula",type:"text",className:"form-control",placeholder:"0999999999",pattern:"([0-9]{10})"})),r.a.createElement("div",{className:"spaceUp"})),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-primary","data-dismiss":"modal",onClick:function(){e.addEmpleado(e,s,n[l].placa)}},"Aceptar"),r.a.createElement("button",{type:"button",className:"btn btn-default","data-dismiss":"modal"},"Cerrar"))))))))))}}]),t}(r.a.Component),Ge=O(Ze),Ye=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={showdata:!1,showadd:!1,showsearch:!0,data:[],dataflota:[],loading:!1,id:null,notExist:!1,disarmClic:!1,scrh:"Todos"},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;return L.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:this.props.firebase.getLive("/flota",(function(t){t.exists()?(console.log("FLOTA GETLIVE",Object.values(t.val())),e.setState({data:Object.values(t.val()),loading:!0})):e.setState({data:[],notExist:!0,loading:!1})}),(function(e){return console.log("Error: ",e)})).then((function(e){console.log(e)})).catch((function(t){console.log("Error"),e.setState({data:"Error: ".concat(t),loading:!1})}));case 1:case"end":return t.stop()}}),null,this)}},{key:"del",value:function(e,t,a){var n,r;return L.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:console.log("DEL FIREBASE",a),console.log("idFlota",e),console.log("workers",t),window.confirm("\xbfDesea eliminar la flota?")?(this.setState({showdata:!1}),n="/flota/"+e,null!=t?(r=Object.values(t),console.log("WORKERS",r),a.deleteFlota(n,r),alert("Se elimino la flota de la base de datos")):(a.delete(n),alert("Se elimino la flota de la base de datos"))):alert("Se cancelo la solicitud de borrar la flota");case 4:case"end":return l.stop()}}),null,this)}},{key:"show",value:function(e){this.setState({showdata:!0}),this.setState({id:e})}},{key:"agg",value:function(){this.setState({showadd:!0}),this.setState({showdata:!1}),this.setState({showsearch:!1})}},{key:"reload",value:function(){this.setState({showadd:!1}),this.setState({showsearch:!0})}},{key:"disarm",value:function(e){e?this.setState({disarmClic:!0}):this.setState({disarmClic:!1})}},{key:"getdatafilter",value:function(e,t){var a,n;return L.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return this.setState({showdata:!1}),console.log("========>",e.type),a=document.getElementById("dataSearch").value,console.log("dataSearch",a),console.log("valuefilter",this.state.scrh),n=e.type,console.log("valuefilter",n),r.next=9,L.a.awrap(t.search("/flota",n,a,(function(t){null!=t.val()&&void 0!=t.val()?(console.log("DATADATA",t.val()),e.setState({data:Object.values(t.val()),loading:!0,notExist:!1,error:!1})):e.setState({error:!0,loading:!1,notExist:!0})}),(function(e){console.log("Error",e)})));case 9:case"end":return r.stop()}}),null,this)}},{key:"change",value:function(){var e=document.getElementById("typeSearch").value;console.log("x",e),this.setState({scrh:e}),this.type=e,console.log("change_type_srch",this.state.scrh),console.log("change_type_x",e),"Todos"==e&&(console.log("BORRAAAAAAAAAAAAAAAAAAAAAAAAA"),document.getElementById("dataSearch").value="",this.getdatafilter(this,this.props.firebase)),"placa"==e&&(console.log("BORRAA placa"),document.getElementById("dataSearch").value=""),"nf"==e&&(console.log("BORRAA numero de flota"),document.getElementById("dataSearch").value="")}},{key:"render",value:function(){var e=this,t=this.state,a=t.loading,n=t.data,l=t.id,s=t.notExist;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement(we,{menu:"flota"}),r.a.createElement("div",{className:"border-right scroll "+(this.state.showdata?"col-6":"col-10")},r.a.createElement("div",{className:"container "},r.a.createElement("div",{className:"row d-flex align-items-center justify-content-between"},r.a.createElement("div",null,r.a.createElement("h1",{style:{color:"#3941ca"}},"Flota")),this.state.showsearch?r.a.createElement("div",{className:"spaceUp "+(this.state.showdata?"col-7":"col-4")},r.a.createElement("div",{className:"input-group row align-items-center justify-content-between"},r.a.createElement("div",null,r.a.createElement("p",null,"Buscar mediante:")),r.a.createElement("form",null,r.a.createElement("select",{className:"custom-select",id:"typeSearch",onChange:function(){e.change()}},r.a.createElement("option",{selected:!0},"Todos"),r.a.createElement("option",{value:"placa"},"Placa"),r.a.createElement("option",{value:"nf"},"N\xfamero de flota")))),r.a.createElement("div",{className:"input-group spaceUp align-items-center"},r.a.createElement("input",{className:"form-control",id:"dataSearch",placeholder:"Buscar Unidad",pattern:"placa"==this.state.scrh?"([A-Z]{3}-[0-9]{3,4})":"nf"==this.state.scrh?"([0-9]{2-5})":""}),r.a.createElement("div",{className:"clicSearch"},r.a.createElement("button",{className:"btn btn-outline-primary",onClick:function(){e.getdatafilter(e,e.props.firebase)},disabled:"Todos"==this.state.scrh},r.a.createElement(y,{name:"magnify",fill:"#3941ca"}))))):null),r.a.createElement("div",{className:"row d-flex align-items-center "},this.state.showadd?r.a.createElement("div",{style:{padding:"8px"}},r.a.createElement("button",{className:"btn btn-outline-primary",onClick:function(){e.reload()}},"Retroceder")):null,r.a.createElement("div",{style:{padding:"8px"}},r.a.createElement("button",{className:"btn btn-outline-primary",onClick:function(){e.state.disarmClic?alert("Se encuentra editando la informacion de un empleado"):e.agg()}},"Agregar"))),this.state.showadd?r.a.createElement(He,null):r.a.createElement(Pe,{callBack:this.show.bind(this),loading:a,data:n,notExist:s,disarmClic:this.state.disarmClic}))),this.state.showdata?r.a.createElement(Ge,{id:l,loading:a,data:n,remove:this.del.bind(this),disarm:this.disarm.bind(this)}):null))}}]),t}(r.a.Component),Je=(O(Ye),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={infoUser:[],loading:!0,error:!1,user:!1,dataUpdate:!1,colorAcredit:!0},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;return L.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if("Cliente"!==this.props.data.type){t.next=5;break}return t.next=3,L.a.awrap(this.props.firebase.get("/users/"+this.props.data.uid,(function(t){e.setState({infoUser:t.val(),loading:!1,error:!1,user:!0,dataUpdate:!0})}),(function(e){return console.log("Error: ",e)})).then((function(e){console.log(e)})).catch((function(t){console.log("Error"),e.setState({data:"Error: ".concat(t),loading:!1,error:!0,dataUpdate:!0})})));case 3:t.next=7;break;case 5:return t.next=7,L.a.awrap(this.props.firebase.get("/worker/"+this.props.data.uid,(function(t){e.setState({infoUser:t.val(),loading:!1,error:!1,user:!1,dataUpdate:!0})}),(function(e){return console.log("Error Peticion worker1 ",e)})).catch((function(t){e.setState({data:"Error: ".concat(t),loading:!1,error:!0,dataUpdate:!0})})));case 7:case"end":return t.stop()}}),null,this)}},{key:"componentDidUpdate",value:function(e){var t=this;return L.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(e.data.uid==this.props.data.uid){a.next=8;break}if("Cliente"!==this.props.data.type){a.next=6;break}return a.next=4,L.a.awrap(this.props.firebase.getLive("/users/"+this.props.data.uid,(function(e){t.setState({infoUser:e.val(),loading:!1,error:!1,user:!0,dataUpdate:!0})}),(function(e){return console.log("Error: ",e)})).then((function(e){console.log(e)})).catch((function(e){console.log("Error"),t.setState({data:"Error: ".concat(e),loading:!1,error:!0,user:!1,dataUpdate:!0})})));case 4:a.next=8;break;case 6:return a.next=8,L.a.awrap(this.props.firebase.get("/worker/"+this.props.data.uid,(function(e){e.exists()?t.setState({infoUser:e.val(),loading:!1,error:!1,user:!1,dataUpdate:!0}):t.setState({infoUser:null,loading:!1,error:!1,user:!1,dataUpdate:!0})}),(function(e){return console.log("Error: ",e)})).then((function(e){console.log(e)})).catch((function(e){console.log("Error"),t.setState({data:"Error: ".concat(e),loading:!1,error:!0,user:!1,dataUpdate:!0})})));case 8:case"end":return a.stop()}}),null,this)}},{key:"renderUser",value:function(e,t,a){var n=this,l=new Date(t.date);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{onClick:function(){n.props.onClick()},style:{padding:6},className:"row align-items-center d-flex justify-content-between border-bottom "},r.a.createElement("div",{className:"col-3 "},r.a.createElement("div",{className:"d-flex flex-row "},r.a.createElement("div",null,r.a.createElement("img",{className:"image",src:e?"Loading...":this.state.infoUser.photoURL})),r.a.createElement("div",null,r.a.createElement("p",{style:{marginLeft:6},className:"font-weight-bold"},e?"Loading...":a.name),r.a.createElement("p",{style:{marginLeft:6},className:"font-weight-normal"},e?"Loading...":a.email)))),r.a.createElement("div",{className:"col-1"},r.a.createElement("div",null,r.a.createElement("p",{className:"font-weight-normal"},e?"Loading...":t.type))),r.a.createElement("div",{className:"col-1"},r.a.createElement("p",{className:"font-weight-normal"},e?"Loading...":l.toLocaleDateString()," ")),r.a.createElement("div",{className:"col-2"},r.a.createElement("p",null,e?"Loading...":r.a.createElement(y,{name:"user",fill:null==a.checkout?"#fbdc04":a.checkout.aCredit?"#25e802":"#fbdc04"})))))}},{key:"renderWorker",value:function(e,t,a){var n=this,l=new Date(t.date);return r.a.createElement(r.a.Fragment,null,null!=this.state.infoUser?r.a.createElement("div",{onClick:function(){n.props.onClick()},style:{padding:6},className:"row align-items-center d-flex justify-content-between border-bottom "},r.a.createElement("div",{className:"col-3 "},r.a.createElement("div",{className:"d-flex flex-row "},r.a.createElement("div",null,r.a.createElement("img",{className:"image",src:e?"Loading...":""==this.state.infoUser.urlEmpleado?"https://thumbs.dreamstime.com/z/trabajador-de-construcci%C3%B3n-icon-ejemplo-de-person-profile-avatar-del-vector-97315504.jpg":this.state.infoUser.urlEmpleado})),r.a.createElement("div",null,r.a.createElement("p",{style:{marginLeft:6},className:"font-weight-bold"},e?"Loading...":a.firstName+" "+a.lastName),r.a.createElement("p",{style:{marginLeft:6},className:"font-weight-normal"},e?"Loading...":a.email)))),r.a.createElement("div",{className:"col-1"},r.a.createElement("div",null,r.a.createElement("p",{className:"font-weight-normal"},e?"Loading...":t.type))),r.a.createElement("div",{className:"col-1"},r.a.createElement("p",{className:"font-weight-normal"},e?"Loading...":l.toLocaleDateString()," ")),r.a.createElement("div",{className:"col-2"},r.a.createElement("p",null,e?"Loading...":r.a.createElement(y,{name:"empleado",fill:"#4545ff "})))):r.a.createElement("div",{onClick:function(){n.props.onClick()},style:{padding:6},className:"row align-items-center d-flex justify-content-between border-bottom "},r.a.createElement("div",{className:"col-3 "},r.a.createElement("div",{className:"d-flex flex-row "},r.a.createElement("div",null,r.a.createElement("img",{className:"image",src:"https://image.flaticon.com/icons/svg/2037/2037451.svg"})),r.a.createElement("div",null,r.a.createElement("p",{style:{marginLeft:6},className:"font-weight-bold"},e?"Loading...":"Usuario Borrado"),r.a.createElement("p",{style:{marginLeft:6},className:"font-weight-normal"},e?"Loading...":"Usuario Borrado")))),r.a.createElement("div",{className:"col-1"},r.a.createElement("div",null,r.a.createElement("p",{className:"font-weight-normal"},e?"Loading...":t.type))),r.a.createElement("div",{className:"col-1"},r.a.createElement("p",{className:"font-weight-normal"},e?"Loading...":l.toLocaleDateString()," ")),r.a.createElement("div",{className:"col-2"},r.a.createElement("p",null,e?"Loading...":r.a.createElement(y,{name:"empleado",fill:"#4545ff "})))))}},{key:"render",value:function(){var e=this.props,t=e.loading,a=e.data;return r.a.createElement(r.a.Fragment,null,this.state.user?this.renderUser(t,a,this.state.infoUser):this.renderWorker(t,a,this.state.infoUser))}}]),t}(r.a.Component)),$e=O(Je),Ke=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={infoUser:[],loading:!0,error:!1,user:!1},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;return L.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if("Cliente"!==this.props.data.type){t.next=5;break}return t.next=3,L.a.awrap(this.props.firebase.getLive("/users/"+this.props.data.uid,(function(t){e.setState({infoUser:t.val(),loading:!1,error:!1,user:!0})}),(function(e){return console.log("Error: ",e)})).then((function(e){console.log(e)})).catch((function(t){console.log("Error"),e.setState({data:"Error: ".concat(t),loading:!1,error:!0})})));case 3:t.next=7;break;case 5:return t.next=7,L.a.awrap(this.props.firebase.getLive("/worker/"+this.props.data.uid,(function(t){t.exists()?e.setState({infoUser:t.val(),loading:!1,error:!1}):e.setState({infoUser:null,loading:!1,error:!1})}),(function(e){return console.log("Error: ********",e)})).then((function(e){console.log(e)})).catch((function(t){console.log("DA ERROR Error-----",t),e.setState({data:"Error: ".concat(t),loading:!1,error:!0})})));case 7:case"end":return t.stop()}}),null,this)}},{key:"asignarCredit",value:function(e){var t="/users/"+this.state.infoUser.uid+"/checkout";e.setCredit(t)}},{key:"deleteCredit",value:function(e){var t="/users/"+this.state.infoUser.uid+"/checkout/";e.setQuitarCredit(t)}},{key:"renderUser",value:function(e,t,a){var n=this,l=new Date(t.date);return r.a.createElement("div",{className:"align-items-center",style:{justifyContent:"center",height:"100vh",top:0,bottom:0,left:0,right:0,zIndex:200,position:"absolute",display:"flex"}},r.a.createElement("div",{style:{justifyContent:"center",height:"100vh",background:"#00000025",top:0,bottom:0,left:0,right:0,zIndex:100,position:"absolute"},onClick:function(){n.props.onClick()}}),r.a.createElement("div",{className:"card d-flex align-items-center",style:{width:"450px",background:"#fff",zIndex:100}},r.a.createElement("div",{className:" "},r.a.createElement("div",{className:"d-flex flex-row align-items-center align-items-middle"},r.a.createElement("div",null,r.a.createElement("img",{className:"image",src:e?"Loading...":a.photoURL})),r.a.createElement("div",null,r.a.createElement("text",{style:{marginLeft:6},className:"font-weight-bold"},e?"Loading...":a.name),r.a.createElement("p",{style:{marginLeft:6,color:"#000000"},className:"font-weight-normal"},e?"Loading...":a.email)))),r.a.createElement("div",{className:"col align-items-center align-items-middle d-flex justify-content-between"},r.a.createElement("text",{className:"font-weight-normal"},"Ruc: ",e?"Loading...":t.ruc),r.a.createElement("text",{className:"font-weight-normal"},"Local: ",e?"Loading...":t.local)),r.a.createElement("div",{className:"col align-items-center align-items-middle d-flex justify-content-between"},r.a.createElement("text",{className:"font-weight-normal"},"Gases: ",e?"Loading...":t.cgases),r.a.createElement("text",{className:"font-weight-normal"},"Saldo: ",e?"Loading...":t.saldo)),r.a.createElement("div",{className:"col align-items-center align-items-middle d-flex justify-content-between"},r.a.createElement("text",{className:"font-weight-normal"},"Tipo: ",e?"Loading...":t.type),r.a.createElement("text",{className:"font-weight-normal"},"Fecha: ",e?"Loading...":l.toLocaleDateString()," ")),r.a.createElement("div",{className:"col align-items-center align-items-middle d-flex justify-content-between"},r.a.createElement("text",null,"Ciudad: Riobamba"),r.a.createElement("text",null,"Telefono: ",e?"Loading...":t.telefono)),r.a.createElement("div",{className:"col align-items-center align-items-middle d-flex justify-content-between"},r.a.createElement("button",{type:"button",class:"btn btn-outline-primary",onClick:function(){n.asignarCredit(n.props.firebase),n.props.onClick()},disabled:null!=a.checkout&&!!a.checkout.aCredit},"Aceptar"),r.a.createElement("button",{type:"button",class:"btn btn-outline-dark",onClick:function(){n.props.onClick()}},"Salir")),r.a.createElement("div",{className:"row"},r.a.createElement("button",{type:"button",class:"btn btn-danger",onClick:function(){n.deleteCredit(n.props.firebase),n.props.onClick()},disabled:null!=a.checkout&&!a.checkout.aCredit},"Quitar"))))}},{key:"renderWorker",value:function(e,t,a){var n=this,l=new Date(t.date);return r.a.createElement(r.a.Fragment,null,null!=this.state.infoUser?r.a.createElement("div",{className:"align-items-center",style:{justifyContent:"center",height:"100vh",top:0,bottom:0,left:0,right:0,zIndex:200,position:"absolute",display:"flex"}},r.a.createElement("div",{style:{justifyContent:"center",height:"100vh",background:"#00000025",top:0,bottom:0,left:0,right:0,zIndex:100,position:"absolute"},onClick:function(){n.props.onClick()}}),r.a.createElement("div",{className:"card d-flex align-items-center",style:{width:"450px",background:"#fff",zIndex:100}},r.a.createElement("div",{className:" "},r.a.createElement("div",{className:"d-flex flex-row align-items-center align-items-middle"},r.a.createElement("div",null,r.a.createElement("img",{className:"image",src:e?"Loading...":""==this.state.infoUser.urlEmpleado?"https://thumbs.dreamstime.com/z/trabajador-de-construcci%C3%B3n-icon-ejemplo-de-person-profile-avatar-del-vector-97315504.jpg":a.urlEmpleado})),r.a.createElement("div",null,r.a.createElement("text",{style:{marginLeft:6},className:"font-weight-bold"},e?"Loading...":a.firstName+" "+a.lastName),r.a.createElement("p",{style:{marginLeft:6,color:"#000000"},className:"font-weight-normal"},e?"Loading...":""==this.state.infoUser.urlEmpleado?"PONMENOMBRE@GMAIL.COM":a.email)))),r.a.createElement("div",{className:"col align-items-center align-items-middle d-flex justify-content-between"},r.a.createElement("text",{className:"font-weight-normal"},"Cedula: ",e?"Loading...":a.cedula),r.a.createElement("text",{className:"font-weight-normal"},"Ciudad: Riobamba")),r.a.createElement("div",{className:"col align-items-center align-items-middle d-flex justify-content-between"},r.a.createElement("text",{className:"font-weight-normal"},"Tipo: ",e?"Loading...":t.type),r.a.createElement("text",{className:"font-weight-normal"},"Fecha: ",e?"Loading...":l.toLocaleDateString()," ")),r.a.createElement("div",{className:"col align-items-center align-items-middle d-flex justify-content-between"},r.a.createElement("text",null,"Telefono: ",e?"Loading...":a.celular),r.a.createElement("text",null,"Placa: ",e?"Loading...":a.idFlota)),r.a.createElement("div",{className:"col align-items-center align-items-middle d-flex justify-content-between"},r.a.createElement("text",null,"Licencia: ",e?"Loading...":a.licencia)),r.a.createElement("div",{className:"font-weight-bold"},r.a.createElement("text",null,"Mensaje: ",e?"Loading...":t.msg)))):r.a.createElement("div",{className:"align-items-center",style:{justifyContent:"center",height:"100vh",top:0,bottom:0,left:0,right:0,zIndex:200,position:"absolute",display:"flex"}},r.a.createElement("div",{style:{justifyContent:"center",height:"100vh",background:"#00000025",top:0,bottom:0,left:0,right:0,zIndex:100,position:"absolute"},onClick:function(){n.props.onClick()}}),r.a.createElement("div",{className:"card d-flex align-items-center",style:{width:"450px",background:"#fff",zIndex:100}},r.a.createElement("div",{className:" "}),r.a.createElement("div",{className:"font-weight-bold"},r.a.createElement("text",null,"Mensaje: ",e?"Loading...":t.msg)))))}},{key:"render",value:function(){var e=this.props,t=e.loading,a=e.data;return r.a.createElement(r.a.Fragment,null,this.state.user?this.renderUser(t,a,this.state.infoUser):this.renderWorker(t,a,this.state.infoUser))}}]),t}(r.a.Component),Xe=O(Ke),Qe=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"align-items-center",style:{justifyContent:"center",height:"100vh",top:0,bottom:0,left:0,right:0,zIndex:200,position:"absolute",display:"flex"}},r.a.createElement("div",{style:{justifyContent:"center",height:"100vh",background:"#00000025",top:0,bottom:0,left:0,right:0,zIndex:100,position:"absolute"},onClick:function(){e.props.onClick()}}),r.a.createElement("div",{className:"card d-flex align-items-center",style:{width:"450px",background:"#fff",zIndex:100}},r.a.createElement("div",null,r.a.createElement("text",{className:"text-dangerous"},"NO EXISTEN DATOS !")))))}}]),t}(r.a.Component),et=function(e){function t(e){var a;return Object(o.a)(this,t),a=Object(c.a)(this,Object(m.a)(t).call(this,e)),console.log("Constructor"),a.state={loading:!0,data:[],messages:[],ModalState:!1,idI:null,error:!1,obUser:!1},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(){return L.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}))}},{key:"componentDidMount",value:function(){var e=this;return L.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L.a.awrap(this.props.firebase.getLive("/notify",(function(t){t.exists()?e.setState({data:Object.values(t.val()).reverse(),loading:!1,error:!1}):e.setState({data:null,loading:!1,error:!1})}),(function(e){return console.log("Error: ",e)})).then((function(e){console.log(e)})).catch((function(t){console.log("Error"),e.setState({data:"Error: ".concat(t),loading:!1,error:!0})})));case 2:case"end":return t.stop()}}),null,this)}},{key:"getdatafilter",value:function(e,t){var a;return L.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return a=document.getElementById("filtero").options[document.getElementById("filtero").selectedIndex].text,n.next=3,L.a.awrap(t.getfilter("/notify",a,(function(t){null!=t.val()&&void 0!=t.val()?(console.log("CAMBIO DE FILTRO",t.val()),e.setState({data:Object.values(t.val()).reverse(),loading:!1,error:!1,obUser:!1})):e.setState({error:!0,loading:!1})}),(function(e){console.log("Error",e)})));case 3:case"end":return n.stop()}}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.loading,n=t.data,l=t.error;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"d-flex row"},r.a.createElement(we,{menu:"notifications"}),r.a.createElement("div",{className:"d-felx col-10"},r.a.createElement("div",{style:{height:140}},r.a.createElement("div",{className:"d-flex align-items-center  container justify-content-between border-bottom"},r.a.createElement("div",null,r.a.createElement("h1",{style:{color:"#3941ca"}},r.a.createElement("span",null,r.a.createElement(y,{name:"empleado",fill:"#0062ff"}))," NOTIFICACIONES"),r.a.createElement("h2",null,"Lista de empleados y clientes"))),r.a.createElement("div",{className:"row align-items-center d-flex justify-content-between align-items-middle"},r.a.createElement("div",{className:"col-3 "},r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("text",null,"Buscar Notificaci\xf3n"),r.a.createElement("small",{className:"form-text text-muted"},"Seleccione el filtro a buscar ")))),r.a.createElement("div",{style:{top:8},className:"col-4"},r.a.createElement("div",{className:"btn-group"},r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("select",{className:"custom-select",id:"filtero",onChange:function(){e.setState({loading:!0}),e.getdatafilter(e,e.props.firebase)}},r.a.createElement("option",{defaultValue:!0},"Todos"),r.a.createElement("option",{value:"2"},"Cliente"),r.a.createElement("option",{value:"3"},"Emergencia")),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("label",{className:"input-group-text"},"Opciones"))))))),r.a.createElement("div",{style:{padding:"6px 0",height:40},className:"row align-items-center align-items-middle d-flex justify-content-between border-top border-bottom"},r.a.createElement("div",{className:"col-3"},r.a.createElement("text",null,"Nombre")),r.a.createElement("div",{className:"col-1"},r.a.createElement("text",null,"Tipo")),r.a.createElement("div",{className:"col-1"},r.a.createElement("text",null,"Fecha")),r.a.createElement("div",{className:"col-2"},r.a.createElement("text",null,"Usuario"))),r.a.createElement("div",{style:{height:"calc(100vh - 180px)"},className:"scroll"},l?r.a.createElement(Qe,{onClick:function(){return e.setState({error:!1})}}):null,a?r.a.createElement("div",null,"Cargando..."):null==n?r.a.createElement("div",null,"No existen datos"):n.map((function(t,n){return r.a.createElement($e,{key:n,loading:a,data:t,onClick:function(){e.setState({ModalState:!e.state.ModalState,idI:n})}})})),this.state.ModalState?r.a.createElement(Xe,{loading:a,data:n[this.state.idI],onClick:function(){e.setState({ModalState:!e.state.ModalState})}}):null))))}}]),t}(r.a.Component),tt=(O(et),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.loading,n=t.data,l=t.notExist;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"spaceUp border-bottom"},r.a.createElement("div",null,r.a.createElement("h2",{style:{color:"#3941ca"}},"Lista de Empleados"))),r.a.createElement("table",{className:"table table-hover"},console.log("data table",n),console.log("length",n.length),r.a.createElement("tbody",null,1==a&&0==l?n.map((function(t,n){return r.a.createElement(at,{callBack:e.props.callBack.bind(),key:n,data:t,loading:a,id:n,disarmClic:e.props.disarmClic})})):0==a&&0==l?r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("p",null,"Cargando..."),r.a.createElement("div",{className:"spinner-border text-primary",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading..."))):r.a.createElement("div",null,"No existen datos"))))}}]),t}(r.a.Component)),at=function(e){function t(e){return Object(o.a)(this,t),Object(c.a)(this,Object(m.a)(t).call(this,e))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.loading,n=t.data,l=t.id,s=t.disarmClic;return console.log("data",n),console.log("id",l),r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",{onClick:function(){s?alert("Se encuentra editando la informacion de un empleado"):e.props.callBack(l)}},r.a.createElement("td",{className:"align-middle center"},r.a.createElement("img",{src:a?n.urlEmpleado:null})),r.a.createElement("td",{className:"align-middle center"},r.a.createElement("p",{style:{display:"inline-block"}},a?n.firstName:"loading...")),r.a.createElement("td",{className:"align-middle center"},a?null!=n.idFlota?n.idFlota:"Sin asignar":"loading..."),r.a.createElement("td",{className:"align-middle center"},a?n.licencia:"loading..."),r.a.createElement("td",{className:"align-middle center"},r.a.createElement(_e,{num:n.score}))))}}]),t}(r.a.Component),nt=tt,rt=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={data:""},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"submit",value:function(e,t){var a={firstName:document.getElementById("firstName").value,lastName:document.getElementById("lastName").value,cedula:document.getElementById("cedula").value,celular:document.getElementById("cellphone").value,email:document.getElementById("email").value,licencia:document.getElementById("licencia").value,dateofEx:document.getElementById("dateofEx").value,estadoDelivery:"Sin retraso",score:5,urlEmpleado:document.getElementById("urlEmpleado").value};t.setWorker("/worker",a),console.log(">>>Se envio con exito<<<",a),alert("Se agrego con exito el empleado")}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{className:"container"},r.a.createElement("h2",{className:"spaceUp",style:{color:"#3941ca"}},"Datos del Empleado:"),r.a.createElement("div",{className:"input-group spaceUp"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},"Nombres y Apellidos")),r.a.createElement("input",{id:"firstName",type:"text",className:"form-control",placeholder:"Alan Armando",pattern:"([a-z A-Z \xf1\xe1\xe9\xed\xf3\xfa]{2,20})"}),r.a.createElement("input",{id:"lastName",type:"text",className:"form-control",placeholder:"Brito Paredes",pattern:"([a-z A-Z \xf1\xe1\xe9\xed\xf3\xfa]{2,20})"})),r.a.createElement("div",{className:"input-group spaceUp"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},"Cedula")),r.a.createElement("input",{id:"cedula",type:"text",className:"form-control",placeholder:"0999999999",pattern:"([0-9]{10})"})),r.a.createElement("div",{className:"input-group spaceUp"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},"N\xfamero de Telefono")),r.a.createElement("input",{id:"cellphone",type:"text",className:"form-control",placeholder:"099999999999",pattern:"([0][0-9]{9})"})),r.a.createElement("div",{className:"input-group spaceUp"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},"Correo:")),r.a.createElement("input",{id:"email",type:"text",className:"form-control",placeholder:"example_something@gmail.com"})),r.a.createElement("div",{className:"input-group spaceUp"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},"Imagen de perfil url:")),r.a.createElement("input",{id:"urlEmpleado",type:"url",className:"form-control",placeholder:"https://example.com/example_image.jpg"})),r.a.createElement("h2",{className:"spaceUp",style:{color:"#3941ca"}},"Datos de licencia:"),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"input-group mb-3 spaceUp"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("label",{className:"input-group-text",for:"licencia"},"Tipo de Licencia")),r.a.createElement("input",{id:"licencia",type:"text",className:"form-control",placeholder:"C",pattern:"(C|C1|D|D1|E|E1|A|A1|F|G|B)"})),r.a.createElement("div",{className:"input-group"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},"Fecha de expiraci\xf3n")),r.a.createElement("input",{id:"dateofEx",type:"text",className:"form-control",placeholder:"dd-mm-aaaa",pattern:"(?:3[01]|[12][0-9]|0?[1-9])([\\-/.])(0?[1-9]|1[1-2])\\1\\d{4}"}))),r.a.createElement("div",{className:"spaceUp",style:{marginBottom:16}},r.a.createElement("button",{id:"submit_button",type:"submit",className:"btn btn-primary btn-lg btn-block",onClick:function(t){e.submit(t,e.props.firebase)}},"A\xf1adir"))))}}]),t}(r.a.Component),lt=(O(rt),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={showurlEmpleado:!1,showurlCar:!1},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"edit",value:function(e,t){var a={firstName:document.getElementById("firstName").value,lastName:document.getElementById("lastName").value,cedula:document.getElementById("cedula").value,celular:document.getElementById("cellphone").value,email:document.getElementById("email").value,licencia:document.getElementById("licencia").value,dateOfEx:document.getElementById("dateofEx").value,urlEmpleado:document.getElementById("urlEmpleado").value};console.log(">>>Se modifico con exito<<<",a),e.modify("/worker/"+t,a),this.props.success()}},{key:"render",value:function(){var e=this,t=this.props,a=t.loading,n=t.data,l=t.id;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"d-flex row align-items-center justify-content-between border-bottom "},r.a.createElement("div",null,r.a.createElement("h1",{id:"titleinfoFlota"},"Datos del Empleado")),r.a.createElement("div",null,r.a.createElement("div",{onClick:function(){alert("Ya se encuentra en esta pesta\xf1a")}},r.a.createElement(y,{name:"account-edit",fill:"#78cf00"})),r.a.createElement("div",{onClick:function(){alert("Se encuentra en la pesta\xf1a de editar datos")}},r.a.createElement(y,{name:"account-delete",fill:"#e0dede"}))))),r.a.createElement("form",{className:"container"},r.a.createElement("div",{className:"spaceUp row align-items-center justify-content-between"},r.a.createElement("div",{className:"col-2"},r.a.createElement("img",{className:"imgflota",src:a?n[l].urlEmpleado:null}),r.a.createElement("div",{id:"clicUrl",className:"d-flex justify-content-center align-items-center iconImageEdit",onClick:function(){e.setState({showurlEmpleado:!0})}},r.a.createElement(y,{name:"pencil",fill:"#fffff"}))),r.a.createElement("div",{className:"input-group col-9",hidden:!this.state.showurlEmpleado},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},"url:")),r.a.createElement("input",{id:"urlEmpleado",type:"url",className:"form-control",placeholder:"https://example.com/example_image.jpg",defaultValue:a?n[l].urlEmpleado:"loading..."}))),r.a.createElement("div",{className:"spaceUp"},r.a.createElement("div",{className:"row justify-content-between"},r.a.createElement("p",null,"Nombres y Apellidos:"),r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{id:"firstName",type:"text",className:"form-control",placeholder:"Alan Armando",pattern:"([a-z A-Z \xf1\xe1\xe9\xed\xf3\xfa]{2,20})",defaultValue:a?n[l].firstName:"loading..."}),r.a.createElement("input",{id:"lastName",type:"text",className:"form-control",placeholder:"Brito Paredes",pattern:"([a-z A-Z \xf1\xe1\xe9\xed\xf3\xfa]{2,20})",defaultValue:a?n[l].lastName:"loading..."}))),r.a.createElement("div",{className:"row justify-content-between"},r.a.createElement("p",null,"Flota de trabajo:"),r.a.createElement("p",null,a?n[l].idFlota:"loading...")),r.a.createElement("div",{className:"row justify-content-between"},r.a.createElement("p",null,"Cedula de Indentidad:"),r.a.createElement("input",{id:"cedula",type:"text",className:"form-control",placeholder:"0999999999",pattern:"([0-9]{10})",defaultValue:a?n[l].cedula:"loading..."})),r.a.createElement("div",null,r.a.createElement("p",null,"Datos de licencia:"),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row justify-content-between"},r.a.createElement("p",null,"Categoria:"),r.a.createElement("input",{id:"licencia",type:"text",className:"form-control",placeholder:"C",defaultValue:a?n[l].licencia:"loading...",pattern:"(C|C1|D|D1|E|E1|A|A1|F|G|B)"})),r.a.createElement("div",{className:"row justify-content-between"},r.a.createElement("p",null,"Fecha de expiracion:"),r.a.createElement("input",{id:"dateofEx",type:"text",className:"form-control",placeholder:"dd-mm-aaaa",defaultValue:a?n[l].dateOfEx:"loading...",pattern:"([0-2][0-9]|3[0-1])(\\/|-)(0[1-9]|1[0-2])\\2(\\d{4})"})))),r.a.createElement("div",{className:"row justify-content-between"},r.a.createElement("p",null,"Valoracion:"),a?r.a.createElement(_e,{num:n[l].score}):"loading..."),r.a.createElement("div",{className:"row justify-content-between"},r.a.createElement("p",null,"Estado:"),r.a.createElement("p",null,a?n[l].estadoDelivery:"loading...")),r.a.createElement("div",{className:"row justify-content-between"},r.a.createElement("p",null,"N\xfamero de Celular:"),r.a.createElement("input",{id:"cellphone",type:"text",className:"form-control",placeholder:"0999999999",pattern:"([0][0-9]{9})",defaultValue:a?n[l].celular:"loading..."})),r.a.createElement("div",{className:"row justify-content-between"},r.a.createElement("p",null,"Correo:"),r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{id:"email",type:"email",className:"form-control",placeholder:"example_something@gmail.com",defaultValue:a?n[l].email:"loading..."})))),r.a.createElement("div",{className:"spaceUp"},r.a.createElement("div",{className:"row justify-content-around spaceUp",style:{marginBottom:16}},r.a.createElement("div",null,r.a.createElement("button",{type:"submit",className:"btn btn-outline-primary",onClick:function(){e.edit(e.props.firebase,n[l].id)}},"Actualizar")),r.a.createElement("div",null,r.a.createElement("button",{type:"submit",className:"btn btn-outline-primary",onClick:function(t){e.props.back(t)}},"Cancelar"))))))}}]),t}(r.a.Component)),st=O(lt),ot=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={showedit:!1},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"showE",value:function(){window.confirm("\xbfDesea ingresar a la pesta\xf1a de modificar datos?")?(this.setState({showedit:!0}),this.props.disarm(!0)):alert("Se cancelo la solicitud editar datos")}},{key:"back",value:function(e){window.confirm("\xbfDesea regresar a la pesta\xf1a de datos?")?(this.setState({showedit:!1}),this.props.disarm(!1)):(e.preventDefault(),alert("Se cancelo la solicitud"))}},{key:"success",value:function(){alert("Se modificaron los datos del empleado con exito"),this.setState({showedit:!1}),this.props.disarm(!1)}},{key:"render",value:function(){var e=this.props,t=e.loading,a=e.data,n=e.id;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"col-4 scroll"},this.state.showedit?r.a.createElement(st,{back:this.back.bind(this),success:this.success.bind(this),loading:t,data:a,id:n}):r.a.createElement(it,{remove:this.props.remove.bind(),callBack:this.showE.bind(this),loading:t,data:a,id:n})))}}]),t}(r.a.Component),it=function(e){function t(e){return Object(o.a)(this,t),Object(c.a)(this,Object(m.a)(t).call(this,e))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"progress",value:function(e,t){var a=100*e/t;return console.log("porcent",a),a+"%"}},{key:"render",value:function(){var e=this,t=this.props,a=t.loading,n=t.data,l=t.id;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"d-flex row align-items-center justify-content-between border-bottom "},r.a.createElement("div",null,r.a.createElement("h1",{id:"titleinfoFlota"},"Datos del Empleado")),r.a.createElement("div",null,r.a.createElement("div",{id:"clicEdit",onClick:function(){e.props.callBack()}},r.a.createElement(y,{name:"account-edit",fill:"#fffff"})),r.a.createElement("div",{id:"clicDel",onClick:function(){e.props.remove(n[l].id,n[l].idFlota)}},r.a.createElement(y,{name:"account-delete",fill:"#fffff"})))),r.a.createElement("div",null,r.a.createElement("div",{className:"spaceUp row align-items-center"},r.a.createElement("div",{className:"col-2"},r.a.createElement("img",{className:"imgflota",src:a?n[l].urlEmpleado:null})),r.a.createElement("div",{className:"col-10"},r.a.createElement("p",{id:"nameinfoflota"},a?n[l].firstName+" "+n[l].lastName:"loading...")))),r.a.createElement("div",{className:"spaceUp"},r.a.createElement("div",{className:"row justify-content-between"},r.a.createElement("p",null,"Flota de trabajo:"),r.a.createElement("p",null,a?null!=n[l].idFlota?n[l].idFlota:"Sin asignar":"loading...")),r.a.createElement("div",{className:"row justify-content-between"},r.a.createElement("p",null,"Cedula de Indentidad:"),r.a.createElement("p",null,a?n[l].cedula:"loading...")),r.a.createElement("div",null,r.a.createElement("p",null,"Datos de licencia:"),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row justify-content-between"},r.a.createElement("p",null,"Categoria:"),r.a.createElement("p",null,a?n[l].licencia:"loading...")),r.a.createElement("div",{className:"row justify-content-between"},r.a.createElement("p",null,"Fecha de expiracion:"),r.a.createElement("p",null,a?n[l].dateOfEx:"loading...")))),r.a.createElement("div",{className:"row justify-content-between"},r.a.createElement("p",null,"Valoracion:"),a?r.a.createElement(_e,{num:n[l].score}):"loading..."),r.a.createElement("div",{className:"row justify-content-between"},r.a.createElement("p",null,"Estado:"),r.a.createElement("p",null,a?n[l].estadoDelivery:"loading...")),r.a.createElement("div",{className:"row justify-content-between"},r.a.createElement("p",null,"N\xfamero de Celular:"),r.a.createElement("p",null,a?n[l].celular:"loading...")),r.a.createElement("div",{className:"row justify-content-between"},r.a.createElement("p",null,"Correo:"),r.a.createElement("p",null,a?n[l].email:"loading...")))))}}]),t}(r.a.Component),ct=ot,mt=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={showdata:!1,showadd:!1,showsearch:!0,data:[],loading:!1,id:null,notExist:!1,disarmClic:!1,scrh:"Todos"},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;return L.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:this.props.firebase.getLive("/worker",(function(t){t.exists()?(console.log("WORKERS GETLIVE",Object.values(t.val())),e.setState({data:Object.values(t.val()),loading:!0})):e.setState({data:[],notExist:!0,loading:!1})}),(function(e){return console.log("Error: ",e)})).then((function(e){console.log(e)})).catch((function(t){console.log("Error"),e.setState({data:"Error: ".concat(t),loading:!1})}));case 1:case"end":return t.stop()}}),null,this)}},{key:"del",value:function(e,t){if(window.confirm("\xbfDesea eliminar al empleado?"))if(this.setState({showdata:!1}),console.log("IDFLOTA",t),null!=t){var a="/worker/"+e,n="/flota/"+t+"/workers/"+e;this.props.firebase.deleteWorker(a,n),alert("Se elimino el empleado de la base de datos")}else{a="/worker/"+e;this.props.firebase.delete(a),alert("Se elimino el empleado de la base de datos")}else alert("Se cancelo la solicitud de borrar empleado")}},{key:"show",value:function(e){this.setState({showdata:!0}),this.setState({id:e})}},{key:"agg",value:function(){this.setState({showadd:!0}),this.setState({showdata:!1}),this.setState({showsearch:!1})}},{key:"reload",value:function(){this.setState({showadd:!1}),this.setState({showsearch:!0})}},{key:"disarm",value:function(e){e?this.setState({disarmClic:!0}):this.setState({disarmClic:!1})}},{key:"getdatafilter",value:function(e,t){var a,n;return L.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return this.setState({showdata:!1}),console.log("========>",e.type),a=document.getElementById("dataSearch").value,console.log("dataSearch",a),console.log("valuefilter",this.state.scrh),n=e.type,console.log("valuefilter",n),r.next=9,L.a.awrap(t.search("/worker",n,a,(function(t){null!=t.val()&&void 0!=t.val()?(console.log("DATADATA",t.val()),e.setState({data:Object.values(t.val()),loading:!0,notExist:!1,error:!1})):e.setState({error:!0,loading:!1,notExist:!0})}),(function(e){console.log("Error",e)})));case 9:case"end":return r.stop()}}),null,this)}},{key:"change",value:function(){var e=document.getElementById("typeSearch").value;console.log("x",e),this.setState({scrh:e}),this.type=e,console.log("change_type_srch",this.state.scrh),console.log("change_type_x",e),"Todos"==e&&(console.log("BORRAAAAAAAAAAAAAAAAAAAAAAAAA"),document.getElementById("dataSearch").value="",this.getdatafilter(this,this.props.firebase)),"cedula"==e&&(console.log("BORRAA cedula"),document.getElementById("dataSearch").value=""),"idFlota"==e&&(console.log("BORRAA placa"),document.getElementById("dataSearch").value="")}},{key:"render",value:function(){var e=this,t=this.state,a=t.loading,n=t.data,l=t.id,s=t.notExist;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement(we,{menu:"workers"}),r.a.createElement("div",{className:"border-right scroll "+(this.state.showdata?"col-6":"col-10")},r.a.createElement("div",{className:"container "},r.a.createElement("div",{className:"row d-flex align-items-center justify-content-between"},r.a.createElement("div",null,r.a.createElement("h1",{style:{color:"#3941ca"}},"Empleados")),this.state.showsearch?r.a.createElement("div",{className:"spaceUp "+(this.state.showdata?"col-5":"col-3")},r.a.createElement("div",{className:"input-group row align-items-center justify-content-between"},r.a.createElement("div",null,r.a.createElement("p",null,"Buscar mediante:")),r.a.createElement("form",null,r.a.createElement("select",{className:"custom-select",id:"typeSearch",onChange:function(){e.change()}},r.a.createElement("option",{selected:!0},"Todos"),r.a.createElement("option",{value:"idFlota"},"Placa"),r.a.createElement("option",{value:"cedula"},"C\xe9dula")))),r.a.createElement("div",{className:"input-group spaceUp align-items-center"},r.a.createElement("input",{className:"form-control",id:"dataSearch",placeholder:"Buscar Unidad",pattern:"idFlota"==this.state.scrh?"([A-Z]{3}-[0-9]{3,4})":"cedula"==this.state.scrh?"([0-9]{10})":""}),r.a.createElement("div",{className:"clicSearch"},r.a.createElement("button",{className:"btn btn-outline-primary",onClick:function(){e.getdatafilter(e,e.props.firebase)},disabled:"Todos"==this.state.scrh},r.a.createElement(y,{name:"magnify",fill:"#3941ca"}))))):null),r.a.createElement(nt,{callBack:this.show.bind(this),loading:a,data:n,notExist:s,disarmClic:this.state.disarmClic}))),this.state.showdata?r.a.createElement(ct,{id:l,loading:a,data:n,remove:this.del.bind(this),disarm:this.disarm.bind(this)}):null))}}]),t}(r.a.Component),dt=(O(mt),function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){"/"!==this.props.location.pathname&&this.props.history.push("/")}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"404"),r.a.createElement("p",null,"Esta pagina no esta disponible por el momento"),r.a.createElement(E.a,{to:"/"},"Volver"))}}]),t}(r.a.Component)),ut=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.loading,n=t.data,l=t.notExist;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"spaceUp border-bottom"},r.a.createElement("div",null,r.a.createElement("h2",{style:{color:"#3941ca"}},"Lista de Unidades"))),r.a.createElement("table",{className:"table table-hover"},r.a.createElement("tbody",null,1==a&&0==l?n.map((function(t,n){return r.a.createElement(pt,{callBack:e.props.callBack.bind(),firebase:e.props.firebase,key:n,data:t,loading:a,id:n,date:e.props.date})})):0==a&&0==l?r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("p",null,"Cargando..."),r.a.createElement("div",{className:"spinner-border text-primary",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading..."))):r.a.createElement("div",null,"No existen datos"))))}}]),t}(r.a.Component),pt=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={orders:[],loading:!1},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getOrders()}},{key:"componentDidUpdate",value:function(e){this.props.date!==e.date&&this.getOrders()}},{key:"getOrders",value:function(){var e=this;return L.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L.a.awrap(this.props.firebase.filterDate("/orders",this.props.data.placa,(function(t){null!=t.val()&&void 0!=t.val()?e.setState({orders:Object.values(t.val()),loading:!0}):e.setState({loading:!1})}),(function(e){console.log("Error",e)})));case 2:case"end":return t.stop()}}),null,this)}},{key:"getDateMillis",value:function(){var e=this.props.date,t=e.getDate(),a=e.getMonth()+1,n=e.getFullYear()+"/"+a+"/"+t;return Date.parse(n)}},{key:"totalVentas",value:function(){var e=this.state.orders,t=0,a=this.getDateMillis(),n=a+864e5;if(0!=e.length)for(var r=0;r<e.length;r++)"true"===e[r].delivered&&e[r].date>a&&e[r].date<n&&(t+=e[r].total);return t.toFixed(2)}},{key:"totalDeliveredOrder",value:function(){var e=this.state.orders,t=0,a=this.getDateMillis(),n=a+864e5;if(0!=e.length)for(var r=0;r<e.length;r++)"true"===e[r].delivered&&e[r].date>a&&e[r].date<n&&t++;return t}},{key:"render",value:function(){var e=this,t=this.props,a=t.loading,n=t.data,l=t.id;return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",{"data-toggle":"modal","data-target":"#modalCaja",onClick:function(){e.props.callBack(l)}},r.a.createElement("td",{className:"align-middle center"},r.a.createElement("img",{src:a?n.urlCar:"loading"})),r.a.createElement("td",{className:"align-middle center"},r.a.createElement("p",{style:{display:"inline-block"}},a?n.placa:"loading")),r.a.createElement("td",{className:"align-middle center"},a?"true"===n.isActive?r.a.createElement("p",{className:"statusGreen"},"Activo"):r.a.createElement("p",{className:"statusRed"},"Fuera de Servicio"):"loading"),r.a.createElement("td",{className:"align-middle center"},"$"+this.totalVentas()),r.a.createElement("td",{className:"align-middle center"},this.totalDeliveredOrder()+" ordenes")))}}]),t}(r.a.Component),ft=O(ut),ht=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={store:[],orders:[],filterOrders:[],loadingStore:!1,loadingOrders:!1,count:[],placa:""},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.firebase.get("/store/category/gas",(function(t){e.setState({store:Object.values(t.val()).reverse(),loadingStore:!0})})),this.setState({placa:this.props.data.placa}),this.getOrders(this.props.data.placa)}},{key:"componentDidUpdate",value:function(e){this.props.date!==e.date&&(this.setState({placa:this.props.data.placa}),this.getOrders(this.props.data.placa)),this.props.id!==e.id&&(this.setState({placa:this.props.data.placa}),this.getOrders(this.props.data.placa))}},{key:"getDateMillis",value:function(){var e=this.props.date,t=e.getDate(),a=e.getMonth()+1,n=e.getFullYear()+"/"+a+"/"+t;return Date.parse(n)}},{key:"getCurrentDate",value:function(){var e=this.props.date;return e.getDate()+"/"+(e.getMonth()+1)+"/"+e.getFullYear()}},{key:"getOrders",value:function(e){var t=this;return L.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,L.a.awrap(this.props.firebase.filterDate("/orders",e,(function(e){null!=e.val()&&void 0!=e.val()?t.setState({orders:Object.values(e.val()),loadingOrders:!0}):t.setState({loadingOrders:!1})}),(function(e){console.log("Error",e)})));case 2:this.filterOrders();case 3:case"end":return a.stop()}}),null,this)}},{key:"filterOrders",value:function(){var e=this.state.orders,t=[],a=[0,0,0],n=this.getDateMillis(),r=n+864e5;if(0!=e.lenght)for(var l=0;l<e.length;l++)if("true"===e[l].delivered&&e[l].date>n&&e[l].date<r){var s=Object.values(e[l].count),o=s.length;t.push(e[l]),console.log("lista FILTRADA",t);for(var i=0;i<o;i++)a[i]=a[i]+s[i].numero}this.setState({filterOrders:t}),this.setState({count:a})}},{key:"numberOrders",value:function(){for(var e=this.state.count,t=0,a=0;a<e.length;a++)t+=e[a];return t}},{key:"numberOrdersCanceled",value:function(){var e=this.state.orders,t=0,a=this.getDateMillis(),n=a+864e5;if(0!=e.length)for(var r=0;r<e.length;r++)"canceled"===e[r].delivered&&e[r].date>a&&e[r].date<n&&t++;return t}},{key:"totalSold",value:function(){for(var e=this.state.count,t=this.state.store,a=0,n=0;n<e.length;n++)a+=e[n]*t[n].price;return a.toFixed(2)}},{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=t.loading,l=this.state.loadingOrders;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"modal fade",id:"modalCaja",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog modal-dialog-centered",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title",id:"exampleModalLongTitle"},"Fecha: "+this.getCurrentDate()),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",{className:"row justify-content-between"},r.a.createElement("h4",null,n?a.placa:"loading"),n?"true"===a.isActive?r.a.createElement("h3",{className:"statusGreen"},"Activo"):r.a.createElement("h3",{className:"statusRed"},"Fuera de servicio"):"loading"),r.a.createElement("div",null,r.a.createElement("p",{className:"bold",style:{fontSize:14}},"Lista de pedidos realizados")),r.a.createElement("div",{className:"scroll",style:{maxHeight:225}},0!=this.state.filterOrders.length&&l?this.state.filterOrders.map((function(e,t){return r.a.createElement(gt,{data:e,key:t})})):r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("p",{className:"align-items-center"},"No se han realizado pedidos en esta Fecha"))),r.a.createElement("div",{className:"border-bottom"}),r.a.createElement("div",null,r.a.createElement("p",{className:"bold",style:{fontSize:14}},"N\xfamero de Cilindros de Gas por tipo")),this.state.count.map((function(t,a){return r.a.createElement(Et,{data:t,store:e.state.store,key:a,id:a,avalible:l})})),r.a.createElement("div",{className:"border-top"},r.a.createElement("div",null,r.a.createElement("p",{className:"bold",style:{fontSize:14}},"Resumen de ventas del d\xeda")),r.a.createElement("div",{className:"row justify-content-between "},r.a.createElement("div",{className:"row"},r.a.createElement("p",{className:"spaceLeft"},l?this.numberOrders():"0"),r.a.createElement("p",{className:"spaceLeftWord"},"Cilindros de gas")),r.a.createElement("div",null,r.a.createElement("p",{className:"spaceRight bold"},l?"$"+this.totalSold():"$0.00"))),r.a.createElement("div",{className:"row"},r.a.createElement("p",{className:"spaceLeft"},l?this.state.filterOrders.length:"0"),r.a.createElement("p",{className:"spaceLeftWord"},"Pedidos Realizados")),r.a.createElement("div",{className:"row"},r.a.createElement("p",{className:"spaceLeft"},l?this.numberOrdersCanceled():"0"),r.a.createElement("p",{className:"spaceLeftWord"},"Pedidos Cancelados")))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Close"),r.a.createElement("button",{type:"button",className:"btn btn-primary"},"Save changes"))))))}}]),t}(r.a.Component),Et=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.store,n=e.id,l=e.avalible,s=t*a[n].price;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row justify-content-between"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{style:{maxWidth:10}},r.a.createElement("p",null,l?t:"0")),r.a.createElement("div",null,r.a.createElement("p",{className:"spaceLeft"},a[n].name))),r.a.createElement("div",null,r.a.createElement("p",{className:"spaceRight"},l?"$"+s.toFixed(2):"$0.00"))))}}]),t}(r.a.Component),gt=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"numberOrders",value:function(){for(var e=Object.values(this.props.data.count),t=0,a=0;a<e.length;a++)t+=e[a].numero;return t}},{key:"render",value:function(){var e=this.props.data;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"border-top spaceTable"},r.a.createElement("div",{className:"row justify-content-between align-items-center"},r.a.createElement("div",{className:"justify-content-center"},r.a.createElement("div",{className:"row"},r.a.createElement("p",{className:"bold",style:{fontSize:16}},this.numberOrders()),r.a.createElement("p",{className:"spaceLeftWord",style:{fontSize:16}},"cilindros")),r.a.createElement("div",null,r.a.createElement("p",{style:{fontSize:12}},e.user.username))),r.a.createElement("div",null,r.a.createElement("p",{className:"spaceRight"},"$"+e.total)))))}}]),t}(r.a.Component),vt=ht,bt=a(201),yt=a.n(bt),Nt=(a(373),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){a.setState({startDate:e})},a.state={data:[],dataflota:[],loading:!1,id:null,showCajaModal:!1,startDate:new Date,notExist:!1,scrh:"Todos"},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.firebase.getLive("/flota",(function(t){t.exists()?(e.setState({data:Object.values(t.val()),loading:!0}),console.log("DATAAAAAAAAA: ",e.state.data)):e.setState({data:null,loading:!1,notExist:!0})}))}},{key:"showModal",value:function(e){this.setState({showCajaModal:!0}),this.setState({id:e})}},{key:"renderModal",value:function(){var e=this.state,t=e.data,a=e.loading,n=e.id;return r.a.createElement(r.a.Fragment,null,null!=n?r.a.createElement(vt,{data:t[n],loading:a,firebase:this.props.firebase,date:this.state.startDate,id:n}):null)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement(we,{menu:"caja"}),r.a.createElement("div",{className:"scroll col-10"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row d-flex align-items-center justify-content-between"},r.a.createElement("div",{className:"spaceUp"},r.a.createElement("h1",{style:{color:"#3941ca"}},"Caja"))),r.a.createElement(yt.a,{selected:this.state.startDate,onChange:this.handleChange}),r.a.createElement(ft,{callBack:this.showModal.bind(this),data:this.state.data,date:this.state.startDate,loading:this.state.loading,notExist:this.state.notExist}),this.renderModal()))))}}]),t}(r.a.Component)),wt=(O(Nt),F(function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={isDisconnected:!1},a.handleConnectionChange=function(){return"online"===(navigator.onLine?"online":"offline")?a.setState({isDisconnected:!1}):a.setState({isDisconnected:!0})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.handleConnectionChange(),window.addEventListener("online",this.handleConnectionChange),window.addEventListener("offline",this.handleConnectionChange)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("online",this.handleConnectionChange),window.removeEventListener("offline",this.handleConnectionChange)}},{key:"render",value:function(){return r.a.createElement("div",null,this.state.isDisconnected?r.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",width:"100vw",height:"100vh",top:0,position:"fixed",zIndex:1e4,background:"#c10808",padding:8,textAlign:"center",color:"#fff"}},r.a.createElement("div",null,r.a.createElement(y,{name:"wifi",fill:"#fff",width:"80px",height:"80px",style:{padding:16}}),r.a.createElement("p",{style:{fontWeight:"bold"}}," Sin conexion a internet"),r.a.createElement("p",null,"Comprueba tu conexion para seguir usando Zetplain"))):null,r.a.createElement(u.a,null,r.a.createElement(T.Consumer,null,(function(e){return e?r.a.createElement(p.a,null,r.a.createElement(f.a,{path:"/info",component:Re}),r.a.createElement(f.a,{exact:!0,path:"/",component:W}),r.a.createElement(f.a,{path:"/signout",component:ue}),r.a.createElement(f.a,{path:"/pw-forget",component:te}),r.a.createElement(f.a,{path:g,component:be}),r.a.createElement(f.a,{path:"/account",component:Ae}),r.a.createElement(f.a,{path:"/admin",component:De}),r.a.createElement(f.a,{component:dt})):r.a.createElement("div",null,r.a.createElement(p.a,null,r.a.createElement(f.a,{exact:!0,path:"/",component:W}),r.a.createElement(f.a,{path:"/signin",component:de}),r.a.createElement(f.a,{path:"/signup",component:X}),r.a.createElement(f.a,{component:dt})))}))))}}]),t}(r.a.Component)));s.a.render(r.a.createElement(S.Provider,{value:new R},r.a.createElement(wt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[205,1,2]]]);
//# sourceMappingURL=main.01d68245.chunk.js.map